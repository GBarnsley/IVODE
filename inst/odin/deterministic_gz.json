{"version":"1.5.4","config":{"base":"deterministic_gz","include":null,"custom":null},"meta":{"internal":"internal","user":"user","state":"state","result":"dstatedt","output":"output","time":"t","initial_time":"initial_t"},"features":{"continuous":true,"discrete":false,"mixed":false,"has_array":true,"has_output":false,"has_user":true,"has_delay":false,"has_interpolate":true,"has_stochastic":false,"has_data":false,"has_compare":false,"has_include":false,"has_debug":false,"has_derivative":false,"initial_time_dependent":false},"data":{"elements":[{"name":"age_rate","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_age_rate","dim":[],"mult":[]},"stage":"user"},{"name":"ageing_M","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_ageing_M","dim":[],"mult":[]},"stage":"time"},{"name":"ageing_R","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_ageing_R","dim":[],"mult":[]},"stage":"time"},{"name":"ageing_S","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_ageing_S","dim":[],"mult":[]},"stage":"time"},{"name":"ageing_V","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_ageing_V","dim":[],"mult":[]},"stage":"time"},{"name":"births_M","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"births_S","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"births_total","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"child_bearing","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_child_bearing","dim":[],"mult":[]},"stage":"user"},{"name":"crude_birth_rate","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_crude_birth_rate","dim":[],"mult":[]},"stage":"user"},{"name":"crude_death_rate","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_crude_death_rate","dim":[],"mult":[]},"stage":"user"},{"name":"crude_foi","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_crude_foi","dim":[],"mult":[]},"stage":"user"},{"name":"deaths_M","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_deaths_M","dim":[],"mult":[]},"stage":"time"},{"name":"deaths_R","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_deaths_R","dim":[],"mult":[]},"stage":"time"},{"name":"deaths_S","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_deaths_S","dim":[],"mult":[]},"stage":"time"},{"name":"deaths_V","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_deaths_V","dim":[],"mult":[]},"stage":"time"},{"name":"dim_age_rate","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_ageing_M","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"constant"},{"name":"dim_ageing_R","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_ageing_S","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_ageing_V","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_child_bearing","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_crude_birth_rate","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_crude_death_rate","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_crude_foi","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_deaths_M","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"constant"},{"name":"dim_deaths_R","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_deaths_S","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_deaths_V","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_infections","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_M","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"constant"},{"name":"dim_M_0","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"constant"},{"name":"dim_natural_waning","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_prop_death","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_R","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_R_0","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_S","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_S_0","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_susceptible_child_bearing","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_t_death_rate","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_t_vaccination_rate","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_total_child_bearing","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_total_pop","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_tt_crude_birth_rate","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"null"},{"name":"dim_tt_crude_death_rate","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"null"},{"name":"dim_tt_crude_foi","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"null"},{"name":"dim_tt_vaccination_rate","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"null"},{"name":"dim_V","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_vaccination_rate","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_vaccination_rate_1","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_vaccination_rate_2","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_vaccinations_R","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_vaccinations_S","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_vaccine_waning","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_weighted_totals","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"infections","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_infections","dim":[],"mult":[]},"stage":"time"},{"name":"initial_M","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_M","dim":[],"mult":[]},"stage":"user"},{"name":"initial_R","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_R","dim":[],"mult":[]},"stage":"user"},{"name":"initial_S","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_S","dim":[],"mult":[]},"stage":"user"},{"name":"initial_V","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_V","dim":[],"mult":[]},"stage":"user"},{"name":"interpolate_t_crude_birth_rate","location":"internal","storage_type":"interpolate_data","rank":0,"dimnames":null,"stage":"user"},{"name":"interpolate_t_crude_death_rate","location":"internal","storage_type":"interpolate_data","rank":0,"dimnames":null,"stage":"user"},{"name":"interpolate_t_crude_foi","location":"internal","storage_type":"interpolate_data","rank":0,"dimnames":null,"stage":"user"},{"name":"interpolate_t_vaccination_rate","location":"internal","storage_type":"interpolate_data","rank":1,"dimnames":{"length":"dim_t_vaccination_rate","dim":[],"mult":[]},"stage":"user"},{"name":"loses_maternal","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"M","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_M","dim":[],"mult":[]},"stage":"time"},{"name":"M_0","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_M_0","dim":[],"mult":[]},"stage":"user"},{"name":"maternal_waning","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"n_age","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"natural_waning","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_natural_waning","dim":[],"mult":[]},"stage":"time"},{"name":"offset_variable_M","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"offset_variable_V","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"prop_death","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_prop_death","dim":[],"mult":[]},"stage":"user"},{"name":"R","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_R","dim":[],"mult":[]},"stage":"time"},{"name":"R_0","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_R_0","dim":[],"mult":[]},"stage":"user"},{"name":"S","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_S","dim":[],"mult":[]},"stage":"time"},{"name":"S_0","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_S_0","dim":[],"mult":[]},"stage":"user"},{"name":"susceptible_child_bearing","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_susceptible_child_bearing","dim":[],"mult":[]},"stage":"time"},{"name":"t_adjusted_foi","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"t_crude_birth_rate","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"t_crude_death_rate","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"t_crude_foi","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"t_death_rate","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_t_death_rate","dim":[],"mult":[]},"stage":"time"},{"name":"t_vaccination_rate","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_t_vaccination_rate","dim":[],"mult":[]},"stage":"time"},{"name":"total_child_bearing","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_total_child_bearing","dim":[],"mult":[]},"stage":"time"},{"name":"total_pop","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_total_pop","dim":[],"mult":[]},"stage":"time"},{"name":"tt_crude_birth_rate","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_tt_crude_birth_rate","dim":[],"mult":[]},"stage":"user"},{"name":"tt_crude_death_rate","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_tt_crude_death_rate","dim":[],"mult":[]},"stage":"user"},{"name":"tt_crude_foi","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_tt_crude_foi","dim":[],"mult":[]},"stage":"user"},{"name":"tt_vaccination_rate","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_tt_vaccination_rate","dim":[],"mult":[]},"stage":"user"},{"name":"V","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_V","dim":[],"mult":[]},"stage":"time"},{"name":"vaccination_rate","location":"internal","storage_type":"double","rank":2,"dimnames":{"length":"dim_vaccination_rate","dim":["dim_vaccination_rate_1","dim_vaccination_rate_2"],"mult":["","dim_vaccination_rate_1"]},"stage":"user"},{"name":"vaccinations_M","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"vaccinations_R","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_vaccinations_R","dim":[],"mult":[]},"stage":"time"},{"name":"vaccinations_S","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_vaccinations_S","dim":[],"mult":[]},"stage":"time"},{"name":"vaccine_efficacy","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"vaccine_waning","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_vaccine_waning","dim":[],"mult":[]},"stage":"time"},{"name":"waning","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"weighted_totals","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_weighted_totals","dim":[],"mult":[]},"stage":"time"}],"variable":{"length":["+",["+",["+","dim_M","dim_R"],"dim_S"],"dim_V"],"contents":[{"name":"S","offset":0,"initial":"initial_S"},{"name":"R","offset":"dim_S","initial":"initial_R"},{"name":"V","offset":"offset_variable_V","initial":"initial_V"},{"name":"M","offset":"offset_variable_M","initial":"initial_M"}]},"output":{"length":0,"contents":[]}},"equations":[{"name":"age_rate","type":"user","source":[7],"depends":{"functions":["length"],"variables":["dim_age_rate"]},"lhs":"age_rate","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"ageing_M","type":"expression_array","source":[121],"depends":{"functions":["length","*","["],"variables":["dim_ageing_M","age_rate","i","M","alloc_ageing_M"]},"lhs":"ageing_M","rhs":[{"index":[{"value":[":",1,["length","ageing_M"]],"is_range":true,"index":"i"}],"value":["*",["[","age_rate","i"],["[","M","i"]]}]},{"name":"ageing_R","type":"expression_array","source":[115],"depends":{"functions":["length","*","["],"variables":["dim_ageing_R","age_rate","i","R","alloc_ageing_R"]},"lhs":"ageing_R","rhs":[{"index":[{"value":[":",1,["length","ageing_R"]],"is_range":true,"index":"i"}],"value":["*",["[","age_rate","i"],["[","R","i"]]}]},{"name":"ageing_S","type":"expression_array","source":[112],"depends":{"functions":["length","*","["],"variables":["dim_ageing_S","age_rate","i","S","alloc_ageing_S"]},"lhs":"ageing_S","rhs":[{"index":[{"value":[":",1,["length","ageing_S"]],"is_range":true,"index":"i"}],"value":["*",["[","age_rate","i"],["[","S","i"]]}]},{"name":"ageing_V","type":"expression_array","source":[118],"depends":{"functions":["length","*","["],"variables":["dim_ageing_V","age_rate","i","V","alloc_ageing_V"]},"lhs":"ageing_V","rhs":[{"index":[{"value":[":",1,["length","ageing_V"]],"is_range":true,"index":"i"}],"value":["*",["[","age_rate","i"],["[","V","i"]]}]},{"name":"alloc_ageing_M","type":"alloc","source":[122],"depends":{"functions":[],"variables":["dim_ageing_M"]},"lhs":"ageing_M"},{"name":"alloc_ageing_R","type":"alloc","source":[116],"depends":{"functions":[],"variables":["dim_ageing_R"]},"lhs":"ageing_R"},{"name":"alloc_ageing_S","type":"alloc","source":[113],"depends":{"functions":[],"variables":["dim_ageing_S"]},"lhs":"ageing_S"},{"name":"alloc_ageing_V","type":"alloc","source":[119],"depends":{"functions":[],"variables":["dim_ageing_V"]},"lhs":"ageing_V"},{"name":"alloc_deaths_M","type":"alloc","source":[110],"depends":{"functions":[],"variables":["dim_deaths_M"]},"lhs":"deaths_M"},{"name":"alloc_deaths_R","type":"alloc","source":[104],"depends":{"functions":[],"variables":["dim_deaths_R"]},"lhs":"deaths_R"},{"name":"alloc_deaths_S","type":"alloc","source":[101],"depends":{"functions":[],"variables":["dim_deaths_S"]},"lhs":"deaths_S"},{"name":"alloc_deaths_V","type":"alloc","source":[107],"depends":{"functions":[],"variables":["dim_deaths_V"]},"lhs":"deaths_V"},{"name":"alloc_infections","type":"alloc","source":[91],"depends":{"functions":[],"variables":["dim_infections"]},"lhs":"infections"},{"name":"alloc_initial_M","type":"alloc","source":[152],"depends":{"functions":[],"variables":["dim_M"]},"lhs":"initial_M"},{"name":"alloc_initial_R","type":"alloc","source":[141],"depends":{"functions":[],"variables":["dim_R"]},"lhs":"initial_R"},{"name":"alloc_initial_S","type":"alloc","source":[134],"depends":{"functions":[],"variables":["dim_S"]},"lhs":"initial_S"},{"name":"alloc_initial_V","type":"alloc","source":[146],"depends":{"functions":[],"variables":["dim_V"]},"lhs":"initial_V"},{"name":"alloc_natural_waning","type":"alloc","source":[80],"depends":{"functions":[],"variables":["dim_natural_waning"]},"lhs":"natural_waning"},{"name":"alloc_susceptible_child_bearing","type":"alloc","source":[71],"depends":{"functions":[],"variables":["dim_susceptible_child_bearing"]},"lhs":"susceptible_child_bearing"},{"name":"alloc_t_death_rate","type":"alloc","source":[98],"depends":{"functions":[],"variables":["dim_t_death_rate"]},"lhs":"t_death_rate"},{"name":"alloc_t_vaccination_rate","type":"alloc","source":[50],"depends":{"functions":[],"variables":["dim_t_vaccination_rate"]},"lhs":"t_vaccination_rate"},{"name":"alloc_total_child_bearing","type":"alloc","source":[68],"depends":{"functions":[],"variables":["dim_total_child_bearing"]},"lhs":"total_child_bearing"},{"name":"alloc_total_pop","type":"alloc","source":[65],"depends":{"functions":[],"variables":["dim_total_pop"]},"lhs":"total_pop"},{"name":"alloc_vaccinations_R","type":"alloc","source":[129],"depends":{"functions":[],"variables":["dim_vaccinations_R"]},"lhs":"vaccinations_R"},{"name":"alloc_vaccinations_S","type":"alloc","source":[126],"depends":{"functions":[],"variables":["dim_vaccinations_S"]},"lhs":"vaccinations_S"},{"name":"alloc_vaccine_waning","type":"alloc","source":[83],"depends":{"functions":[],"variables":["dim_vaccine_waning"]},"lhs":"vaccine_waning"},{"name":"alloc_weighted_totals","type":"alloc","source":[95],"depends":{"functions":[],"variables":["dim_weighted_totals"]},"lhs":"weighted_totals"},{"name":"births_M","type":"expression_scalar","source":[77],"depends":{"functions":["-"],"variables":["births_total","births_S"]},"lhs":"births_M","rhs":{"value":["-","births_total","births_S"]}},{"name":"births_S","type":"expression_scalar","source":[75],"depends":{"functions":["*","(","/","odin_sum","length"],"variables":["births_total","susceptible_child_bearing","dim_susceptible_child_bearing","total_child_bearing","dim_total_child_bearing"]},"lhs":"births_S","rhs":{"value":["*","births_total",["(",["/",["odin_sum","susceptible_child_bearing",1,["length","susceptible_child_bearing"]],["odin_sum","total_child_bearing",1,["length","total_child_bearing"]]]]]}},{"name":"births_total","type":"expression_scalar","source":[73],"depends":{"functions":["*","(","odin_sum","length"],"variables":["total_pop","dim_total_pop","t_crude_birth_rate"]},"lhs":"births_total","rhs":{"value":["*",["(",["odin_sum","total_pop",1,["length","total_pop"]]],"t_crude_birth_rate"]}},{"name":"child_bearing","type":"user","source":[4],"depends":{"functions":["length"],"variables":["dim_child_bearing"]},"lhs":"child_bearing","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"crude_birth_rate","type":"user","source":[24],"depends":{"functions":["length"],"variables":["dim_crude_birth_rate"]},"lhs":"crude_birth_rate","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"crude_death_rate","type":"user","source":[13],"depends":{"functions":["length"],"variables":["dim_crude_death_rate"]},"lhs":"crude_death_rate","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"crude_foi","type":"user","source":[36],"depends":{"functions":["length"],"variables":["dim_crude_foi"]},"lhs":"crude_foi","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"deaths_M","type":"expression_array","source":[109],"depends":{"functions":["length","*","["],"variables":["dim_deaths_M","t_death_rate","i","M","alloc_deaths_M"]},"lhs":"deaths_M","rhs":[{"index":[{"value":[":",1,["length","deaths_M"]],"is_range":true,"index":"i"}],"value":["*",["[","t_death_rate","i"],["[","M","i"]]}]},{"name":"deaths_R","type":"expression_array","source":[103],"depends":{"functions":["length","*","["],"variables":["dim_deaths_R","t_death_rate","i","R","alloc_deaths_R"]},"lhs":"deaths_R","rhs":[{"index":[{"value":[":",1,["length","deaths_R"]],"is_range":true,"index":"i"}],"value":["*",["[","t_death_rate","i"],["[","R","i"]]}]},{"name":"deaths_S","type":"expression_array","source":[100],"depends":{"functions":["length","*","["],"variables":["dim_deaths_S","t_death_rate","i","S","alloc_deaths_S"]},"lhs":"deaths_S","rhs":[{"index":[{"value":[":",1,["length","deaths_S"]],"is_range":true,"index":"i"}],"value":["*",["[","t_death_rate","i"],["[","S","i"]]}]},{"name":"deaths_V","type":"expression_array","source":[106],"depends":{"functions":["length","*","["],"variables":["dim_deaths_V","t_death_rate","i","V","alloc_deaths_V"]},"lhs":"deaths_V","rhs":[{"index":[{"value":[":",1,["length","deaths_V"]],"is_range":true,"index":"i"}],"value":["*",["[","t_death_rate","i"],["[","V","i"]]}]},{"name":"deriv_M","type":"expression_array","source":[154,155],"depends":{"functions":["-","["],"variables":["dim_M","births_M","ageing_M","deaths_M","vaccinations_M","loses_maternal"]},"lhs":"M","rhs":[{"index":[{"value":1,"is_range":false,"index":"i"}],"value":["-",["-","births_M",["[","ageing_M",1]],["[","deaths_M",1]]},{"index":[{"value":2,"is_range":false,"index":"i"}],"value":["-",["-",["-",["-",["[","ageing_M",1],"vaccinations_M"],["[","ageing_M",2]],["[","deaths_M",2]],"loses_maternal"]}]},{"name":"deriv_R","type":"expression_array","source":[143,144],"depends":{"functions":["-","[","+"],"variables":["dim_R","infections","i","ageing_R","deaths_R","natural_waning","n_age","vaccinations_R"]},"lhs":"R","rhs":[{"index":[{"value":1,"is_range":false,"index":"i"}],"value":["-",["-",["-",["[","infections","i"],["[","ageing_R","i"]],["[","deaths_R","i"]],["[","natural_waning","i"]]},{"index":[{"value":[":",2,"n_age"],"is_range":true,"index":"i"}],"value":["-",["-",["-",["-",["+",["[","infections","i"],["[","ageing_R",["-","i",1]]],["[","vaccinations_R","i"]],["[","ageing_R","i"]],["[","deaths_R","i"]],["[","natural_waning","i"]]}]},{"name":"deriv_S","type":"expression_array","source":[136,137,138,139],"depends":{"functions":["-","+","["],"variables":["dim_S","births_S","natural_waning","i","ageing_S","infections","deaths_S","loses_maternal","vaccine_waning","vaccinations_S","ageing_M","n_age"]},"lhs":"S","rhs":[{"index":[{"value":1,"is_range":false,"index":"i"}],"value":["-",["-",["-",["+","births_S",["[","natural_waning","i"]],["[","ageing_S","i"]],["[","infections","i"]],["[","deaths_S","i"]]},{"index":[{"value":2,"is_range":false,"index":"i"}],"value":["-",["-",["-",["-",["+",["+",["+","loses_maternal",["[","ageing_S",["-","i",1]]],["[","natural_waning","i"]],["[","vaccine_waning","i"]],["[","vaccinations_S","i"]],["[","ageing_S","i"]],["[","infections","i"]],["[","deaths_S","i"]]},{"index":[{"value":3,"is_range":false,"index":"i"}],"value":["-",["-",["-",["-",["+",["+",["+",["[","ageing_S",["-","i",1]],["[","ageing_M",2]],["[","natural_waning","i"]],["[","vaccine_waning","i"]],["[","vaccinations_S","i"]],["[","ageing_S","i"]],["[","infections","i"]],["[","deaths_S","i"]]},{"index":[{"value":[":",4,"n_age"],"is_range":true,"index":"i"}],"value":["-",["-",["-",["-",["+",["+",["[","ageing_S",["-","i",1]],["[","natural_waning","i"]],["[","vaccine_waning","i"]],["[","vaccinations_S","i"]],["[","ageing_S","i"]],["[","infections","i"]],["[","deaths_S","i"]]}]},{"name":"deriv_V","type":"expression_array","source":[148,149,150],"depends":{"functions":["-","+","["],"variables":["dim_V","vaccinations_S","i","vaccinations_R","vaccinations_M","ageing_V","deaths_V","vaccine_waning","n_age"]},"lhs":"V","rhs":[{"index":[{"value":1,"is_range":false,"index":"i"}],"value":0},{"index":[{"value":2,"is_range":false,"index":"i"}],"value":["-",["-",["-",["+",["+",["+",["[","vaccinations_S","i"],["[","vaccinations_R","i"]],"vaccinations_M"],["[","ageing_V",["-","i",1]]],["[","ageing_V","i"]],["[","deaths_V","i"]],["[","vaccine_waning","i"]]},{"index":[{"value":[":",3,"n_age"],"is_range":true,"index":"i"}],"value":["-",["-",["-",["+",["+",["[","vaccinations_S","i"],["[","vaccinations_R","i"]],["[","ageing_V",["-","i",1]]],["[","ageing_V","i"]],["[","deaths_V","i"]],["[","vaccine_waning","i"]]}]},{"name":"dim_age_rate","type":"expression_scalar","source":[8],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_age_rate","rhs":{"value":"n_age"}},{"name":"dim_ageing_M","type":"expression_scalar","source":[122],"depends":null,"lhs":"dim_ageing_M","rhs":{"value":2}},{"name":"dim_ageing_R","type":"expression_scalar","source":[116],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_ageing_R","rhs":{"value":"n_age"}},{"name":"dim_ageing_S","type":"expression_scalar","source":[113],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_ageing_S","rhs":{"value":"n_age"}},{"name":"dim_ageing_V","type":"expression_scalar","source":[119],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_ageing_V","rhs":{"value":"n_age"}},{"name":"dim_child_bearing","type":"expression_scalar","source":[5],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_child_bearing","rhs":{"value":"n_age"}},{"name":"dim_crude_birth_rate","type":"expression_scalar","source":[25],"depends":{"functions":["length"],"variables":["dim_tt_crude_birth_rate"]},"lhs":"dim_crude_birth_rate","rhs":{"value":["length","tt_crude_birth_rate"]}},{"name":"dim_crude_death_rate","type":"expression_scalar","source":[14],"depends":{"functions":["length"],"variables":["dim_tt_crude_death_rate"]},"lhs":"dim_crude_death_rate","rhs":{"value":["length","tt_crude_death_rate"]}},{"name":"dim_crude_foi","type":"expression_scalar","source":[37],"depends":{"functions":["length"],"variables":["dim_tt_crude_foi"]},"lhs":"dim_crude_foi","rhs":{"value":["length","tt_crude_foi"]}},{"name":"dim_deaths_M","type":"expression_scalar","source":[110],"depends":null,"lhs":"dim_deaths_M","rhs":{"value":2}},{"name":"dim_deaths_R","type":"expression_scalar","source":[104],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_deaths_R","rhs":{"value":"n_age"}},{"name":"dim_deaths_S","type":"expression_scalar","source":[101],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_deaths_S","rhs":{"value":"n_age"}},{"name":"dim_deaths_V","type":"expression_scalar","source":[107],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_deaths_V","rhs":{"value":"n_age"}},{"name":"dim_infections","type":"expression_scalar","source":[91],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_infections","rhs":{"value":"n_age"}},{"name":"dim_M","type":"expression_scalar","source":[152],"depends":null,"lhs":"dim_M","rhs":{"value":2}},{"name":"dim_M_0","type":"expression_scalar","source":[53],"depends":null,"lhs":"dim_M_0","rhs":{"value":2}},{"name":"dim_natural_waning","type":"expression_scalar","source":[80],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_natural_waning","rhs":{"value":"n_age"}},{"name":"dim_prop_death","type":"expression_scalar","source":[19],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_prop_death","rhs":{"value":"n_age"}},{"name":"dim_R","type":"expression_scalar","source":[141],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_R","rhs":{"value":"n_age"}},{"name":"dim_R_0","type":"expression_scalar","source":[59],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_R_0","rhs":{"value":"n_age"}},{"name":"dim_S","type":"expression_scalar","source":[134],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_S","rhs":{"value":"n_age"}},{"name":"dim_S_0","type":"expression_scalar","source":[56],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_S_0","rhs":{"value":"n_age"}},{"name":"dim_susceptible_child_bearing","type":"expression_scalar","source":[71],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_susceptible_child_bearing","rhs":{"value":"n_age"}},{"name":"dim_t_death_rate","type":"expression_scalar","source":[98],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_t_death_rate","rhs":{"value":"n_age"}},{"name":"dim_t_vaccination_rate","type":"expression_scalar","source":[50],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_t_vaccination_rate","rhs":{"value":"n_age"}},{"name":"dim_total_child_bearing","type":"expression_scalar","source":[68],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_total_child_bearing","rhs":{"value":"n_age"}},{"name":"dim_total_pop","type":"expression_scalar","source":[65],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_total_pop","rhs":{"value":"n_age"}},{"name":"dim_V","type":"expression_scalar","source":[146],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_V","rhs":{"value":"n_age"}},{"name":"dim_vaccination_rate","type":"expression_scalar","source":[47],"depends":{"functions":[],"variables":["dim_vaccination_rate_1","dim_vaccination_rate_2"]},"lhs":"dim_vaccination_rate","rhs":{"value":["*","dim_vaccination_rate_1","dim_vaccination_rate_2"]}},{"name":"dim_vaccination_rate_1","type":"expression_scalar","source":[47],"depends":{"functions":["length"],"variables":["dim_tt_vaccination_rate","n_age"]},"lhs":"dim_vaccination_rate_1","rhs":{"value":["length","tt_vaccination_rate"]}},{"name":"dim_vaccination_rate_2","type":"expression_scalar","source":[47],"depends":{"functions":["length"],"variables":["dim_tt_vaccination_rate","n_age"]},"lhs":"dim_vaccination_rate_2","rhs":{"value":"n_age"}},{"name":"dim_vaccinations_R","type":"expression_scalar","source":[129],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_vaccinations_R","rhs":{"value":"n_age"}},{"name":"dim_vaccinations_S","type":"expression_scalar","source":[126],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_vaccinations_S","rhs":{"value":"n_age"}},{"name":"dim_vaccine_waning","type":"expression_scalar","source":[83],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_vaccine_waning","rhs":{"value":"n_age"}},{"name":"dim_weighted_totals","type":"expression_scalar","source":[95],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_weighted_totals","rhs":{"value":"n_age"}},{"name":"infections","type":"expression_array","source":[90],"depends":{"functions":["length","*","["],"variables":["dim_infections","t_adjusted_foi","S","i","alloc_infections"]},"lhs":"infections","rhs":[{"index":[{"value":[":",1,["length","infections"]],"is_range":true,"index":"i"}],"value":["*","t_adjusted_foi",["[","S","i"]]}]},{"name":"initial_M","type":"expression_array","source":[153],"depends":{"functions":["length","["],"variables":["dim_M","M_0","i"]},"lhs":"initial_M","rhs":[{"index":[{"value":[":",1,["length","M"]],"is_range":true,"index":"i"}],"value":["[","M_0","i"]}]},{"name":"initial_R","type":"expression_array","source":[142],"depends":{"functions":["length","["],"variables":["dim_R","R_0","i"]},"lhs":"initial_R","rhs":[{"index":[{"value":[":",1,["length","R"]],"is_range":true,"index":"i"}],"value":["[","R_0","i"]}]},{"name":"initial_S","type":"expression_array","source":[135],"depends":{"functions":["length","["],"variables":["dim_S","S_0","i"]},"lhs":"initial_S","rhs":[{"index":[{"value":[":",1,["length","S"]],"is_range":true,"index":"i"}],"value":["[","S_0","i"]}]},{"name":"initial_V","type":"expression_array","source":[147],"depends":{"functions":["length"],"variables":["dim_V"]},"lhs":"initial_V","rhs":[{"index":[{"value":[":",1,["length","V"]],"is_range":true,"index":"i"}],"value":0}]},{"name":"interpolate_t_crude_birth_rate","type":"alloc_interpolate","source":[27],"depends":{"functions":[],"variables":["tt_crude_birth_rate","crude_birth_rate"]},"lhs":"interpolate_t_crude_birth_rate","interpolate":{"t":"tt_crude_birth_rate","y":"crude_birth_rate","type":"constant","equation":"t_crude_birth_rate"}},{"name":"interpolate_t_crude_death_rate","type":"alloc_interpolate","source":[16],"depends":{"functions":[],"variables":["tt_crude_death_rate","crude_death_rate"]},"lhs":"interpolate_t_crude_death_rate","interpolate":{"t":"tt_crude_death_rate","y":"crude_death_rate","type":"constant","equation":"t_crude_death_rate"}},{"name":"interpolate_t_crude_foi","type":"alloc_interpolate","source":[39],"depends":{"functions":[],"variables":["tt_crude_foi","crude_foi"]},"lhs":"interpolate_t_crude_foi","interpolate":{"t":"tt_crude_foi","y":"crude_foi","type":"constant","equation":"t_crude_foi"}},{"name":"interpolate_t_vaccination_rate","type":"alloc_interpolate","source":[49],"depends":{"functions":["length"],"variables":["dim_t_vaccination_rate","tt_vaccination_rate","vaccination_rate","alloc_t_vaccination_rate"]},"lhs":"interpolate_t_vaccination_rate","interpolate":{"t":"tt_vaccination_rate","y":"vaccination_rate","type":"constant","equation":"t_vaccination_rate"}},{"name":"loses_maternal","type":"expression_scalar","source":[85],"depends":{"functions":["*","["],"variables":["maternal_waning","M"]},"lhs":"loses_maternal","rhs":{"value":["*","maternal_waning",["[","M",2]]}},{"name":"M_0","type":"user","source":[52],"depends":{"functions":["length"],"variables":["dim_M_0"]},"lhs":"M_0","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"maternal_waning","type":"user","source":[29],"depends":null,"lhs":"maternal_waning","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"n_age","type":"user","source":[2],"depends":null,"lhs":"n_age","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"natural_waning","type":"expression_array","source":[79],"depends":{"functions":["length","*","["],"variables":["dim_natural_waning","waning","R","i","alloc_natural_waning"]},"lhs":"natural_waning","rhs":[{"index":[{"value":[":",1,["length","natural_waning"]],"is_range":true,"index":"i"}],"value":["*","waning",["[","R","i"]]}]},{"name":"offset_variable_M","type":"expression_scalar","source":[],"depends":{"functions":["+"],"variables":["dim_R","dim_S","dim_V"]},"lhs":"offset_variable_M","rhs":{"value":["+",["+","dim_R","dim_S"],"dim_V"]}},{"name":"offset_variable_V","type":"expression_scalar","source":[],"depends":{"functions":["+"],"variables":["dim_R","dim_S"]},"lhs":"offset_variable_V","rhs":{"value":["+","dim_R","dim_S"]}},{"name":"prop_death","type":"user","source":[18],"depends":{"functions":["length"],"variables":["dim_prop_death"]},"lhs":"prop_death","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"R_0","type":"user","source":[58],"depends":{"functions":["length"],"variables":["dim_R_0"]},"lhs":"R_0","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"S_0","type":"user","source":[55],"depends":{"functions":["length"],"variables":["dim_S_0"]},"lhs":"S_0","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"susceptible_child_bearing","type":"expression_array","source":[70],"depends":{"functions":["length","*","["],"variables":["dim_susceptible_child_bearing","S","i","child_bearing","alloc_susceptible_child_bearing"]},"lhs":"susceptible_child_bearing","rhs":[{"index":[{"value":[":",1,["length","susceptible_child_bearing"]],"is_range":true,"index":"i"}],"value":["*",["[","S","i"],["[","child_bearing","i"]]}]},{"name":"t_adjusted_foi","type":"expression_scalar","source":[88],"depends":{"functions":["/","*","odin_sum","length"],"variables":["t_crude_foi","total_pop","dim_total_pop","S","dim_S"]},"lhs":"t_adjusted_foi","rhs":{"value":["/",["*","t_crude_foi",["odin_sum","total_pop",1,["length","total_pop"]]],["odin_sum","S",1,["length","S"]]]}},{"name":"t_crude_birth_rate","type":"interpolate","source":[27],"depends":{"functions":[],"variables":["t","interpolate_t_crude_birth_rate"]},"lhs":"t_crude_birth_rate","interpolate":"interpolate_t_crude_birth_rate"},{"name":"t_crude_death_rate","type":"interpolate","source":[16],"depends":{"functions":[],"variables":["t","interpolate_t_crude_death_rate"]},"lhs":"t_crude_death_rate","interpolate":"interpolate_t_crude_death_rate"},{"name":"t_crude_foi","type":"interpolate","source":[39],"depends":{"functions":[],"variables":["t","interpolate_t_crude_foi"]},"lhs":"t_crude_foi","interpolate":"interpolate_t_crude_foi"},{"name":"t_death_rate","type":"expression_array","source":[97],"depends":{"functions":["length","/","*","[","odin_sum"],"variables":["dim_t_death_rate","t_crude_death_rate","prop_death","i","total_pop","dim_total_pop","weighted_totals","dim_weighted_totals","alloc_t_death_rate"]},"lhs":"t_death_rate","rhs":[{"index":[{"value":[":",1,["length","t_death_rate"]],"is_range":true,"index":"i"}],"value":["/",["*",["*","t_crude_death_rate",["[","prop_death","i"]],["odin_sum","total_pop",1,["length","total_pop"]]],["odin_sum","weighted_totals",1,["length","weighted_totals"]]]}]},{"name":"t_vaccination_rate","type":"interpolate","source":[49],"depends":{"functions":[],"variables":["t","interpolate_t_vaccination_rate"]},"lhs":"t_vaccination_rate","interpolate":"interpolate_t_vaccination_rate"},{"name":"total_child_bearing","type":"expression_array","source":[67],"depends":{"functions":["length","*","["],"variables":["dim_total_child_bearing","total_pop","i","child_bearing","alloc_total_child_bearing"]},"lhs":"total_child_bearing","rhs":[{"index":[{"value":[":",1,["length","total_child_bearing"]],"is_range":true,"index":"i"}],"value":["*",["[","total_pop","i"],["[","child_bearing","i"]]}]},{"name":"total_pop","type":"expression_array","source":[63,64],"depends":{"functions":["+","["],"variables":["dim_total_pop","R","i","S","V","M","n_age","alloc_total_pop"]},"lhs":"total_pop","rhs":[{"index":[{"value":[":",1,2],"is_range":true,"index":"i"}],"value":["+",["+",["+",["[","R","i"],["[","S","i"]],["[","V","i"]],["[","M","i"]]},{"index":[{"value":[":",3,"n_age"],"is_range":true,"index":"i"}],"value":["+",["+",["[","R","i"],["[","S","i"]],["[","V","i"]]}]},{"name":"tt_crude_birth_rate","type":"user","source":[21],"depends":null,"lhs":"tt_crude_birth_rate","user":{"default":null,"dim":true,"min":null,"max":null}},{"name":"tt_crude_death_rate","type":"user","source":[10],"depends":null,"lhs":"tt_crude_death_rate","user":{"default":null,"dim":true,"min":null,"max":null}},{"name":"tt_crude_foi","type":"user","source":[33],"depends":null,"lhs":"tt_crude_foi","user":{"default":null,"dim":true,"min":null,"max":null}},{"name":"tt_vaccination_rate","type":"user","source":[43],"depends":null,"lhs":"tt_vaccination_rate","user":{"default":null,"dim":true,"min":null,"max":null}},{"name":"vaccination_rate","type":"user","source":[46],"depends":{"functions":["dim"],"variables":["dim_vaccination_rate"]},"lhs":"vaccination_rate","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"vaccinations_M","type":"expression_scalar","source":[131],"depends":{"functions":["*","["],"variables":["t_vaccination_rate","M","vaccine_efficacy"]},"lhs":"vaccinations_M","rhs":{"value":["*",["*",["[","t_vaccination_rate",2],["[","M",2]],"vaccine_efficacy"]}},{"name":"vaccinations_R","type":"expression_array","source":[128],"depends":{"functions":["length","*","["],"variables":["dim_vaccinations_R","t_vaccination_rate","i","R","vaccine_efficacy","alloc_vaccinations_R"]},"lhs":"vaccinations_R","rhs":[{"index":[{"value":[":",1,["length","vaccinations_R"]],"is_range":true,"index":"i"}],"value":["*",["*",["[","t_vaccination_rate","i"],["[","R","i"]],"vaccine_efficacy"]}]},{"name":"vaccinations_S","type":"expression_array","source":[125],"depends":{"functions":["length","*","["],"variables":["dim_vaccinations_S","t_vaccination_rate","i","S","vaccine_efficacy","alloc_vaccinations_S"]},"lhs":"vaccinations_S","rhs":[{"index":[{"value":[":",1,["length","vaccinations_S"]],"is_range":true,"index":"i"}],"value":["*",["*",["[","t_vaccination_rate","i"],["[","S","i"]],"vaccine_efficacy"]}]},{"name":"vaccine_efficacy","type":"user","source":[41],"depends":null,"lhs":"vaccine_efficacy","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"vaccine_waning","type":"expression_array","source":[82],"depends":{"functions":["length","*","["],"variables":["dim_vaccine_waning","waning","V","i","alloc_vaccine_waning"]},"lhs":"vaccine_waning","rhs":[{"index":[{"value":[":",1,["length","vaccine_waning"]],"is_range":true,"index":"i"}],"value":["*","waning",["[","V","i"]]}]},{"name":"waning","type":"user","source":[31],"depends":null,"lhs":"waning","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"weighted_totals","type":"expression_array","source":[94],"depends":{"functions":["length","*","["],"variables":["dim_weighted_totals","prop_death","i","total_pop","alloc_weighted_totals"]},"lhs":"weighted_totals","rhs":[{"index":[{"value":[":",1,["length","weighted_totals"]],"is_range":true,"index":"i"}],"value":["*",["[","prop_death","i"],["[","total_pop","i"]]}]}],"debug":[],"components":{"create":{"variables":[],"equations":["dim_ageing_M","dim_deaths_M","dim_M","dim_M_0","alloc_ageing_M","alloc_deaths_M","alloc_initial_M"]},"user":{"variables":[],"equations":["maternal_waning","n_age","tt_crude_birth_rate","tt_crude_death_rate","tt_crude_foi","tt_vaccination_rate","vaccine_efficacy","waning","dim_age_rate","dim_ageing_R","dim_ageing_S","dim_ageing_V","dim_child_bearing","dim_deaths_R","dim_deaths_S","dim_deaths_V","dim_infections","dim_natural_waning","dim_prop_death","dim_R","dim_R_0","dim_S","dim_S_0","dim_susceptible_child_bearing","dim_t_death_rate","dim_t_vaccination_rate","dim_total_child_bearing","dim_total_pop","dim_V","dim_vaccinations_R","dim_vaccinations_S","dim_vaccine_waning","dim_weighted_totals","M_0","age_rate","alloc_ageing_R","alloc_ageing_S","alloc_ageing_V","alloc_deaths_R","alloc_deaths_S","alloc_deaths_V","alloc_infections","alloc_initial_R","alloc_initial_S","alloc_initial_V","alloc_natural_waning","alloc_susceptible_child_bearing","alloc_t_death_rate","alloc_t_vaccination_rate","alloc_total_child_bearing","alloc_total_pop","alloc_vaccinations_R","alloc_vaccinations_S","alloc_vaccine_waning","alloc_weighted_totals","child_bearing","dim_crude_birth_rate","dim_crude_death_rate","dim_crude_foi","dim_vaccination_rate_1","dim_vaccination_rate_2","initial_M","initial_V","offset_variable_M","offset_variable_V","prop_death","R_0","S_0","crude_birth_rate","crude_death_rate","crude_foi","dim_vaccination_rate","initial_R","initial_S","interpolate_t_crude_birth_rate","interpolate_t_crude_death_rate","interpolate_t_crude_foi","vaccination_rate","interpolate_t_vaccination_rate"]},"initial":{"variables":[],"equations":[]},"rhs":{"variables":["S","R","V","M"],"equations":["loses_maternal","ageing_M","ageing_R","ageing_S","ageing_V","natural_waning","susceptible_child_bearing","total_pop","vaccine_waning","total_child_bearing","weighted_totals","t_crude_birth_rate","t_crude_death_rate","t_crude_foi","births_total","t_adjusted_foi","t_death_rate","t_vaccination_rate","births_S","deaths_M","deaths_R","deaths_S","deaths_V","infections","vaccinations_M","vaccinations_R","vaccinations_S","births_M","deriv_R","deriv_S","deriv_V","deriv_M"]},"update_stochastic":{"variables":[],"equations":[]},"output":{"variables":[],"equations":[]},"compare":{"variables":[],"equations":[]}},"user":[{"name":"age_rate","has_default":false},{"name":"child_bearing","has_default":false},{"name":"crude_birth_rate","has_default":false},{"name":"crude_death_rate","has_default":false},{"name":"crude_foi","has_default":false},{"name":"M_0","has_default":false},{"name":"maternal_waning","has_default":false},{"name":"n_age","has_default":false},{"name":"prop_death","has_default":false},{"name":"R_0","has_default":false},{"name":"S_0","has_default":false},{"name":"tt_crude_birth_rate","has_default":false},{"name":"tt_crude_death_rate","has_default":false},{"name":"tt_crude_foi","has_default":false},{"name":"tt_vaccination_rate","has_default":false},{"name":"vaccination_rate","has_default":false},{"name":"vaccine_efficacy","has_default":false},{"name":"waning","has_default":false}],"interpolate":{"min":["tt_crude_birth_rate","tt_crude_death_rate","tt_crude_foi","tt_vaccination_rate"],"max":[],"critical":["tt_crude_birth_rate","tt_crude_death_rate","tt_crude_foi","tt_vaccination_rate"]},"source":["#inputs","n_age <- user()","","child_bearing[] <- user()","dim(child_bearing) <- n_age","","age_rate[] <- user()","dim(age_rate) <- n_age","","tt_crude_death_rate[] <- user()","dim(tt_crude_death_rate) <- user()","","crude_death_rate[] <- user()","dim(crude_death_rate) <- length(tt_crude_death_rate)","","t_crude_death_rate <- interpolate(tt_crude_death_rate, crude_death_rate, \"constant\")","","prop_death[] <- user()","dim(prop_death) <- n_age","","tt_crude_birth_rate[] <- user()","dim(tt_crude_birth_rate) <- user()","","crude_birth_rate[] <- user()","dim(crude_birth_rate) <- length(tt_crude_birth_rate)","","t_crude_birth_rate <- interpolate(tt_crude_birth_rate, crude_birth_rate, \"constant\")","","maternal_waning <- user()","","waning <- user()","","tt_crude_foi[] <- user()","dim(tt_crude_foi) <- user()","","crude_foi[] <- user()","dim(crude_foi) <- length(tt_crude_foi)","","t_crude_foi <- interpolate(tt_crude_foi, crude_foi, \"constant\")","","vaccine_efficacy <- user()","","tt_vaccination_rate[] <- user()","dim(tt_vaccination_rate) <- user()","","vaccination_rate[,] <- user()","dim(vaccination_rate) <- c(length(tt_vaccination_rate), n_age)","","t_vaccination_rate[] <- interpolate(tt_vaccination_rate, vaccination_rate, \"constant\")","dim(t_vaccination_rate) <- n_age","","M_0[] <- user()","dim(M_0) <- 2","","S_0[] <- user()","dim(S_0) <- n_age","","R_0[] <- user()","dim(R_0) <- n_age","","#transistions","","total_pop[1:2] <- R[i] + S[i] + V[i] + M[i]","total_pop[3:n_age] <- R[i] + S[i] + V[i]","dim(total_pop) <- n_age","","total_child_bearing[] <- total_pop[i] * child_bearing[i]","dim(total_child_bearing) <- n_age","","susceptible_child_bearing[] <- S[i] * child_bearing[i]","dim(susceptible_child_bearing) <- n_age","","births_total <- (sum(total_pop[])) * t_crude_birth_rate","","births_S <- births_total * (sum(susceptible_child_bearing[]) / sum(total_child_bearing[]))","","births_M <- births_total - births_S","","natural_waning[] <- waning * R[i]","dim(natural_waning) <- n_age","","vaccine_waning[] <- waning * V[i]","dim(vaccine_waning) <- n_age","","loses_maternal <- maternal_waning * M[2] #only wanes in the last stage","","#must adjust crude foi for the fact that some people are immune","t_adjusted_foi <- t_crude_foi * sum(total_pop[]) / sum(S[])","","infections[] <- t_adjusted_foi * S[i]","dim(infections) <- n_age","","#adjust death rate so that it matches crude rate","weighted_totals[] <- prop_death[i] * total_pop[i]","dim(weighted_totals) <- n_age","","t_death_rate[] <- t_crude_death_rate * prop_death[i] * sum(total_pop[]) / sum(weighted_totals[])","dim(t_death_rate) <- n_age","","deaths_S[] <- t_death_rate[i] * S[i]","dim(deaths_S) <- n_age","","deaths_R[] <- t_death_rate[i] * R[i]","dim(deaths_R) <- n_age","","deaths_V[] <- t_death_rate[i] * V[i]","dim(deaths_V) <- n_age","","deaths_M[] <- t_death_rate[i] * M[i]","dim(deaths_M) <- 2","","ageing_S[] <- age_rate[i] * S[i]","dim(ageing_S) <- n_age","","ageing_R[] <- age_rate[i] * R[i]","dim(ageing_R) <- n_age","","ageing_V[] <- age_rate[i] * V[i]","dim(ageing_V) <- n_age","","ageing_M[] <- age_rate[i] * M[i]","dim(ageing_M) <- 2","","#todo add check against non all or nothing","vaccinations_S[] <- t_vaccination_rate[i] * S[i] * vaccine_efficacy","dim(vaccinations_S) <- n_age","","vaccinations_R[] <- t_vaccination_rate[i] * R[i] * vaccine_efficacy","dim(vaccinations_R) <- n_age","","vaccinations_M <- t_vaccination_rate[2] * M[2] * vaccine_efficacy","","#derivatives","dim(S) <- n_age","initial(S[]) <- S_0[i]","deriv(S[1]) <- births_S + natural_waning[i] - ageing_S[i] - infections[i] - deaths_S[i]","deriv(S[2]) <- loses_maternal + ageing_S[i-1] + natural_waning[i] + vaccine_waning[i] - vaccinations_S[i] - ageing_S[i] - infections[i] - deaths_S[i]","deriv(S[3]) <- ageing_S[i-1] + ageing_M[2] + natural_waning[i] + vaccine_waning[i] - vaccinations_S[i] - ageing_S[i] - infections[i] - deaths_S[i]","deriv(S[4:n_age]) <- ageing_S[i-1] + natural_waning[i] + vaccine_waning[i] - vaccinations_S[i] - ageing_S[i] - infections[i] - deaths_S[i]","","dim(R) <- n_age","initial(R[]) <- R_0[i]","deriv(R[1]) <- infections[i] - ageing_R[i] - deaths_R[i] - natural_waning[i]","deriv(R[2:n_age]) <- infections[i] + ageing_R[i-1] - vaccinations_R[i] - ageing_R[i] - deaths_R[i] - natural_waning[i]","","dim(V) <- n_age","initial(V[]) <- 0","deriv(V[1]) <- 0","deriv(V[2]) <- vaccinations_S[i] + vaccinations_R[i] + vaccinations_M + ageing_V[i-1] - ageing_V[i] - deaths_V[i] - vaccine_waning[i]","deriv(V[3:n_age]) <- vaccinations_S[i] + vaccinations_R[i] + ageing_V[i-1] - ageing_V[i] - deaths_V[i] - vaccine_waning[i]","","dim(M) <- 2","initial(M[]) <- M_0[i]","deriv(M[1]) <- births_M - ageing_M[1] - deaths_M[1]","deriv(M[2]) <- ageing_M[1] - vaccinations_M - ageing_M[2] - deaths_M[2] - loses_maternal","","#output","#tracking doses doesn't make sense in this formulation"]}
