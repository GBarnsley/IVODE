{"version":"1.5.4","config":{"base":"deterministic","include":null,"custom":null},"meta":{"internal":"internal","user":"user","state":"state","result":"dstatedt","output":"output","time":"t","initial_time":"initial_t"},"features":{"continuous":true,"discrete":false,"mixed":false,"has_array":true,"has_output":true,"has_user":true,"has_delay":false,"has_interpolate":true,"has_stochastic":false,"has_data":false,"has_compare":false,"has_include":false,"has_debug":false,"has_derivative":false,"initial_time_dependent":false},"data":{"elements":[{"name":"age_rate","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_age_rate","dim":[],"mult":[]},"stage":"user"},{"name":"ageing_M","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_ageing_M","dim":[],"mult":[]},"stage":"time"},{"name":"ageing_R","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_ageing_R","dim":[],"mult":[]},"stage":"time"},{"name":"ageing_S","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_ageing_S","dim":[],"mult":[]},"stage":"time"},{"name":"ageing_V","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_ageing_V","dim":[],"mult":[]},"stage":"time"},{"name":"birth_rate","location":"internal","storage_type":"double","rank":2,"dimnames":{"length":"dim_birth_rate","dim":["dim_birth_rate_1","dim_birth_rate_2"],"mult":["","dim_birth_rate_1"]},"stage":"user"},{"name":"births_M","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"births_S","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"death_rate","location":"internal","storage_type":"double","rank":2,"dimnames":{"length":"dim_death_rate","dim":["dim_death_rate_1","dim_death_rate_2"],"mult":["","dim_death_rate_1"]},"stage":"user"},{"name":"deaths_M","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_deaths_M","dim":[],"mult":[]},"stage":"time"},{"name":"deaths_R","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_deaths_R","dim":[],"mult":[]},"stage":"time"},{"name":"deaths_S","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_deaths_S","dim":[],"mult":[]},"stage":"time"},{"name":"deaths_V","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_deaths_V","dim":[],"mult":[]},"stage":"time"},{"name":"dim_age_rate","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_ageing_M","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"constant"},{"name":"dim_ageing_R","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_ageing_S","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_ageing_V","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_birth_rate","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_birth_rate_1","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_birth_rate_2","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_death_rate","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_death_rate_1","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_death_rate_2","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_deaths_M","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"constant"},{"name":"dim_deaths_R","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_deaths_S","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_deaths_V","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_foi","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_foi_1","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_foi_2","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_infections","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_M","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"constant"},{"name":"dim_M_0","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"constant"},{"name":"dim_M_births","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_natural_waning","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_p_vaccinate","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_R","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_R_0","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_S","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_S_0","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_S_births","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_t_birth_rate","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_t_death_rate","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_t_foi","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_t_vaccine_doses","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_total_vaccine_doses","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_tt_birth_rate","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"null"},{"name":"dim_tt_death_rate","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"null"},{"name":"dim_tt_foi","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"null"},{"name":"dim_tt_vaccine_doses","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"null"},{"name":"dim_V","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_vaccination_attempts_R","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_vaccination_attempts_S","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_vaccination_doses","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_vaccination_rate","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_vaccinations_R","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_vaccinations_S","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_vaccine_doses","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_vaccine_doses_1","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_vaccine_doses_2","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_vaccine_waning","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"foi","location":"internal","storage_type":"double","rank":2,"dimnames":{"length":"dim_foi","dim":["dim_foi_1","dim_foi_2"],"mult":["","dim_foi_1"]},"stage":"user"},{"name":"infections","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_infections","dim":[],"mult":[]},"stage":"time"},{"name":"initial_M","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_M","dim":[],"mult":[]},"stage":"user"},{"name":"initial_R","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_R","dim":[],"mult":[]},"stage":"user"},{"name":"initial_S","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_S","dim":[],"mult":[]},"stage":"user"},{"name":"initial_V","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_V","dim":[],"mult":[]},"stage":"user"},{"name":"interpolate_t_birth_rate","location":"internal","storage_type":"interpolate_data","rank":1,"dimnames":{"length":"dim_t_birth_rate","dim":[],"mult":[]},"stage":"user"},{"name":"interpolate_t_death_rate","location":"internal","storage_type":"interpolate_data","rank":1,"dimnames":{"length":"dim_t_death_rate","dim":[],"mult":[]},"stage":"user"},{"name":"interpolate_t_foi","location":"internal","storage_type":"interpolate_data","rank":1,"dimnames":{"length":"dim_t_foi","dim":[],"mult":[]},"stage":"user"},{"name":"interpolate_t_vaccine_doses","location":"internal","storage_type":"interpolate_data","rank":1,"dimnames":{"length":"dim_t_vaccine_doses","dim":[],"mult":[]},"stage":"user"},{"name":"loses_maternal","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"M","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_M","dim":[],"mult":[]},"stage":"time"},{"name":"M_0","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_M_0","dim":[],"mult":[]},"stage":"user"},{"name":"M_births","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_M_births","dim":[],"mult":[]},"stage":"time"},{"name":"maternal_waning","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"n_age","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"natural_waning","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_natural_waning","dim":[],"mult":[]},"stage":"time"},{"name":"offset_variable_M","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"offset_variable_V","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"p_vaccinate","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_p_vaccinate","dim":[],"mult":[]},"stage":"time"},{"name":"R","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_R","dim":[],"mult":[]},"stage":"time"},{"name":"R_0","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_R_0","dim":[],"mult":[]},"stage":"user"},{"name":"S","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_S","dim":[],"mult":[]},"stage":"time"},{"name":"S_0","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_S_0","dim":[],"mult":[]},"stage":"user"},{"name":"S_births","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_S_births","dim":[],"mult":[]},"stage":"time"},{"name":"t_birth_rate","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_t_birth_rate","dim":[],"mult":[]},"stage":"time"},{"name":"t_death_rate","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_t_death_rate","dim":[],"mult":[]},"stage":"time"},{"name":"t_foi","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_t_foi","dim":[],"mult":[]},"stage":"time"},{"name":"t_vaccine_doses","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_t_vaccine_doses","dim":[],"mult":[]},"stage":"time"},{"name":"total_vaccine_doses","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_total_vaccine_doses","dim":[],"mult":[]},"stage":"time"},{"name":"tt_birth_rate","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_tt_birth_rate","dim":[],"mult":[]},"stage":"user"},{"name":"tt_death_rate","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_tt_death_rate","dim":[],"mult":[]},"stage":"user"},{"name":"tt_foi","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_tt_foi","dim":[],"mult":[]},"stage":"user"},{"name":"tt_vaccine_doses","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_tt_vaccine_doses","dim":[],"mult":[]},"stage":"user"},{"name":"V","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_V","dim":[],"mult":[]},"stage":"time"},{"name":"vaccination_attempts_M","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"vaccination_attempts_R","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_vaccination_attempts_R","dim":[],"mult":[]},"stage":"time"},{"name":"vaccination_attempts_S","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_vaccination_attempts_S","dim":[],"mult":[]},"stage":"time"},{"name":"vaccination_doses","location":"output","storage_type":"double","rank":1,"dimnames":{"length":"dim_vaccination_doses","dim":[],"mult":[]},"stage":"time"},{"name":"vaccination_rate","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_vaccination_rate","dim":[],"mult":[]},"stage":"time"},{"name":"vaccinations_M","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"vaccinations_R","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_vaccinations_R","dim":[],"mult":[]},"stage":"time"},{"name":"vaccinations_S","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_vaccinations_S","dim":[],"mult":[]},"stage":"time"},{"name":"vaccine_doses","location":"internal","storage_type":"double","rank":2,"dimnames":{"length":"dim_vaccine_doses","dim":["dim_vaccine_doses_1","dim_vaccine_doses_2"],"mult":["","dim_vaccine_doses_1"]},"stage":"user"},{"name":"vaccine_efficacy","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"vaccine_waning","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_vaccine_waning","dim":[],"mult":[]},"stage":"time"},{"name":"waning","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"}],"variable":{"length":["+",["+",["+","dim_M","dim_R"],"dim_S"],"dim_V"],"contents":[{"name":"S","offset":0,"initial":"initial_S"},{"name":"R","offset":"dim_S","initial":"initial_R"},{"name":"V","offset":"offset_variable_V","initial":"initial_V"},{"name":"M","offset":"offset_variable_M","initial":"initial_M"}]},"output":{"length":"dim_vaccination_doses","contents":[{"name":"vaccination_doses","offset":0}]}},"equations":[{"name":"age_rate","type":"user","source":[4],"depends":{"functions":["length"],"variables":["dim_age_rate"]},"lhs":"age_rate","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"ageing_M","type":"expression_array","source":[102],"depends":{"functions":["length","*","["],"variables":["dim_ageing_M","age_rate","i","M","alloc_ageing_M"]},"lhs":"ageing_M","rhs":[{"index":[{"value":[":",1,["length","ageing_M"]],"is_range":true,"index":"i"}],"value":["*",["[","age_rate","i"],["[","M","i"]]}]},{"name":"ageing_R","type":"expression_array","source":[96],"depends":{"functions":["length","*","["],"variables":["dim_ageing_R","age_rate","i","R","alloc_ageing_R"]},"lhs":"ageing_R","rhs":[{"index":[{"value":[":",1,["length","ageing_R"]],"is_range":true,"index":"i"}],"value":["*",["[","age_rate","i"],["[","R","i"]]}]},{"name":"ageing_S","type":"expression_array","source":[93],"depends":{"functions":["length","*","["],"variables":["dim_ageing_S","age_rate","i","S","alloc_ageing_S"]},"lhs":"ageing_S","rhs":[{"index":[{"value":[":",1,["length","ageing_S"]],"is_range":true,"index":"i"}],"value":["*",["[","age_rate","i"],["[","S","i"]]}]},{"name":"ageing_V","type":"expression_array","source":[99],"depends":{"functions":["length","*","["],"variables":["dim_ageing_V","age_rate","i","V","alloc_ageing_V"]},"lhs":"ageing_V","rhs":[{"index":[{"value":[":",1,["length","ageing_V"]],"is_range":true,"index":"i"}],"value":["*",["[","age_rate","i"],["[","V","i"]]}]},{"name":"alloc_ageing_M","type":"alloc","source":[103],"depends":{"functions":[],"variables":["dim_ageing_M"]},"lhs":"ageing_M"},{"name":"alloc_ageing_R","type":"alloc","source":[97],"depends":{"functions":[],"variables":["dim_ageing_R"]},"lhs":"ageing_R"},{"name":"alloc_ageing_S","type":"alloc","source":[94],"depends":{"functions":[],"variables":["dim_ageing_S"]},"lhs":"ageing_S"},{"name":"alloc_ageing_V","type":"alloc","source":[100],"depends":{"functions":[],"variables":["dim_ageing_V"]},"lhs":"ageing_V"},{"name":"alloc_deaths_M","type":"alloc","source":[91],"depends":{"functions":[],"variables":["dim_deaths_M"]},"lhs":"deaths_M"},{"name":"alloc_deaths_R","type":"alloc","source":[85],"depends":{"functions":[],"variables":["dim_deaths_R"]},"lhs":"deaths_R"},{"name":"alloc_deaths_S","type":"alloc","source":[82],"depends":{"functions":[],"variables":["dim_deaths_S"]},"lhs":"deaths_S"},{"name":"alloc_deaths_V","type":"alloc","source":[88],"depends":{"functions":[],"variables":["dim_deaths_V"]},"lhs":"deaths_V"},{"name":"alloc_infections","type":"alloc","source":[79],"depends":{"functions":[],"variables":["dim_infections"]},"lhs":"infections"},{"name":"alloc_initial_M","type":"alloc","source":[153],"depends":{"functions":[],"variables":["dim_M"]},"lhs":"initial_M"},{"name":"alloc_initial_R","type":"alloc","source":[142],"depends":{"functions":[],"variables":["dim_R"]},"lhs":"initial_R"},{"name":"alloc_initial_S","type":"alloc","source":[135],"depends":{"functions":[],"variables":["dim_S"]},"lhs":"initial_S"},{"name":"alloc_initial_V","type":"alloc","source":[147],"depends":{"functions":[],"variables":["dim_V"]},"lhs":"initial_V"},{"name":"alloc_M_births","type":"alloc","source":[64],"depends":{"functions":[],"variables":["dim_M_births"]},"lhs":"M_births"},{"name":"alloc_natural_waning","type":"alloc","source":[71],"depends":{"functions":[],"variables":["dim_natural_waning"]},"lhs":"natural_waning"},{"name":"alloc_p_vaccinate","type":"alloc","source":[110],"depends":{"functions":[],"variables":["dim_p_vaccinate"]},"lhs":"p_vaccinate"},{"name":"alloc_S_births","type":"alloc","source":[61],"depends":{"functions":[],"variables":["dim_S_births"]},"lhs":"S_births"},{"name":"alloc_t_birth_rate","type":"alloc","source":[23],"depends":{"functions":[],"variables":["dim_t_birth_rate"]},"lhs":"t_birth_rate"},{"name":"alloc_t_death_rate","type":"alloc","source":[14],"depends":{"functions":[],"variables":["dim_t_death_rate"]},"lhs":"t_death_rate"},{"name":"alloc_t_foi","type":"alloc","source":[36],"depends":{"functions":[],"variables":["dim_t_foi"]},"lhs":"t_foi"},{"name":"alloc_t_vaccine_doses","type":"alloc","source":[47],"depends":{"functions":[],"variables":["dim_t_vaccine_doses"]},"lhs":"t_vaccine_doses"},{"name":"alloc_total_vaccine_doses","type":"alloc","source":[163],"depends":{"functions":[],"variables":["dim_total_vaccine_doses"]},"lhs":"total_vaccine_doses"},{"name":"alloc_vaccination_attempts_R","type":"alloc","source":[126],"depends":{"functions":[],"variables":["dim_vaccination_attempts_R"]},"lhs":"vaccination_attempts_R"},{"name":"alloc_vaccination_attempts_S","type":"alloc","source":[120],"depends":{"functions":[],"variables":["dim_vaccination_attempts_S"]},"lhs":"vaccination_attempts_S"},{"name":"alloc_vaccination_rate","type":"alloc","source":[117],"depends":{"functions":[],"variables":["dim_vaccination_rate"]},"lhs":"vaccination_rate"},{"name":"alloc_vaccinations_R","type":"alloc","source":[129],"depends":{"functions":[],"variables":["dim_vaccinations_R"]},"lhs":"vaccinations_R"},{"name":"alloc_vaccinations_S","type":"alloc","source":[123],"depends":{"functions":[],"variables":["dim_vaccinations_S"]},"lhs":"vaccinations_S"},{"name":"alloc_vaccine_waning","type":"alloc","source":[74],"depends":{"functions":[],"variables":["dim_vaccine_waning"]},"lhs":"vaccine_waning"},{"name":"birth_rate","type":"user","source":[19],"depends":{"functions":["dim"],"variables":["dim_birth_rate"]},"lhs":"birth_rate","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"births_M","type":"expression_scalar","source":[68],"depends":{"functions":["odin_sum","length"],"variables":["M_births","dim_M_births"]},"lhs":"births_M","rhs":{"value":["odin_sum","M_births",1,["length","M_births"]]}},{"name":"births_S","type":"expression_scalar","source":[66],"depends":{"functions":["odin_sum","length"],"variables":["S_births","dim_S_births"]},"lhs":"births_S","rhs":{"value":["odin_sum","S_births",1,["length","S_births"]]}},{"name":"death_rate","type":"user","source":[10],"depends":{"functions":["dim"],"variables":["dim_death_rate"]},"lhs":"death_rate","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"deaths_M","type":"expression_array","source":[90],"depends":{"functions":["length","*","["],"variables":["dim_deaths_M","t_death_rate","i","M","alloc_deaths_M"]},"lhs":"deaths_M","rhs":[{"index":[{"value":[":",1,["length","deaths_M"]],"is_range":true,"index":"i"}],"value":["*",["[","t_death_rate","i"],["[","M","i"]]}]},{"name":"deaths_R","type":"expression_array","source":[84],"depends":{"functions":["length","*","["],"variables":["dim_deaths_R","t_death_rate","i","R","alloc_deaths_R"]},"lhs":"deaths_R","rhs":[{"index":[{"value":[":",1,["length","deaths_R"]],"is_range":true,"index":"i"}],"value":["*",["[","t_death_rate","i"],["[","R","i"]]}]},{"name":"deaths_S","type":"expression_array","source":[81],"depends":{"functions":["length","*","["],"variables":["dim_deaths_S","t_death_rate","i","S","alloc_deaths_S"]},"lhs":"deaths_S","rhs":[{"index":[{"value":[":",1,["length","deaths_S"]],"is_range":true,"index":"i"}],"value":["*",["[","t_death_rate","i"],["[","S","i"]]}]},{"name":"deaths_V","type":"expression_array","source":[87],"depends":{"functions":["length","*","["],"variables":["dim_deaths_V","t_death_rate","i","V","alloc_deaths_V"]},"lhs":"deaths_V","rhs":[{"index":[{"value":[":",1,["length","deaths_V"]],"is_range":true,"index":"i"}],"value":["*",["[","t_death_rate","i"],["[","V","i"]]}]},{"name":"deriv_M","type":"expression_array","source":[155,156],"depends":{"functions":["-","["],"variables":["dim_M","births_M","ageing_M","deaths_M","vaccinations_M","loses_maternal"]},"lhs":"M","rhs":[{"index":[{"value":1,"is_range":false,"index":"i"}],"value":["-",["-","births_M",["[","ageing_M",1]],["[","deaths_M",1]]},{"index":[{"value":2,"is_range":false,"index":"i"}],"value":["-",["-",["-",["-",["[","ageing_M",1],"vaccinations_M"],["[","ageing_M",2]],["[","deaths_M",2]],"loses_maternal"]}]},{"name":"deriv_R","type":"expression_array","source":[144,145],"depends":{"functions":["-","[","+"],"variables":["dim_R","infections","i","ageing_R","deaths_R","natural_waning","n_age","vaccinations_R"]},"lhs":"R","rhs":[{"index":[{"value":1,"is_range":false,"index":"i"}],"value":["-",["-",["-",["[","infections","i"],["[","ageing_R","i"]],["[","deaths_R","i"]],["[","natural_waning","i"]]},{"index":[{"value":[":",2,"n_age"],"is_range":true,"index":"i"}],"value":["-",["-",["-",["-",["+",["[","infections","i"],["[","ageing_R",["-","i",1]]],["[","vaccinations_R","i"]],["[","ageing_R","i"]],["[","deaths_R","i"]],["[","natural_waning","i"]]}]},{"name":"deriv_S","type":"expression_array","source":[137,138,139,140],"depends":{"functions":["-","+","["],"variables":["dim_S","births_S","natural_waning","i","ageing_S","infections","deaths_S","loses_maternal","vaccine_waning","vaccinations_S","ageing_M","n_age"]},"lhs":"S","rhs":[{"index":[{"value":1,"is_range":false,"index":"i"}],"value":["-",["-",["-",["+","births_S",["[","natural_waning","i"]],["[","ageing_S","i"]],["[","infections","i"]],["[","deaths_S","i"]]},{"index":[{"value":2,"is_range":false,"index":"i"}],"value":["-",["-",["-",["-",["+",["+",["+","loses_maternal",["[","ageing_S",["-","i",1]]],["[","natural_waning","i"]],["[","vaccine_waning","i"]],["[","vaccinations_S","i"]],["[","ageing_S","i"]],["[","infections","i"]],["[","deaths_S","i"]]},{"index":[{"value":3,"is_range":false,"index":"i"}],"value":["-",["-",["-",["-",["+",["+",["+",["[","ageing_S",["-","i",1]],["[","ageing_M",2]],["[","natural_waning","i"]],["[","vaccine_waning","i"]],["[","vaccinations_S","i"]],["[","ageing_S","i"]],["[","infections","i"]],["[","deaths_S","i"]]},{"index":[{"value":[":",4,"n_age"],"is_range":true,"index":"i"}],"value":["-",["-",["-",["-",["+",["+",["[","ageing_S",["-","i",1]],["[","natural_waning","i"]],["[","vaccine_waning","i"]],["[","vaccinations_S","i"]],["[","ageing_S","i"]],["[","infections","i"]],["[","deaths_S","i"]]}]},{"name":"deriv_V","type":"expression_array","source":[149,150,151],"depends":{"functions":["-","+","["],"variables":["dim_V","vaccinations_S","i","vaccinations_R","vaccinations_M","ageing_V","deaths_V","vaccine_waning","n_age"]},"lhs":"V","rhs":[{"index":[{"value":1,"is_range":false,"index":"i"}],"value":0},{"index":[{"value":2,"is_range":false,"index":"i"}],"value":["-",["-",["-",["+",["+",["+",["[","vaccinations_S","i"],["[","vaccinations_R","i"]],"vaccinations_M"],["[","ageing_V",["-","i",1]]],["[","ageing_V","i"]],["[","deaths_V","i"]],["[","vaccine_waning","i"]]},{"index":[{"value":[":",3,"n_age"],"is_range":true,"index":"i"}],"value":["-",["-",["-",["+",["+",["[","vaccinations_S","i"],["[","vaccinations_R","i"]],["[","ageing_V",["-","i",1]]],["[","ageing_V","i"]],["[","deaths_V","i"]],["[","vaccine_waning","i"]]}]},{"name":"dim_age_rate","type":"expression_scalar","source":[5],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_age_rate","rhs":{"value":"n_age"}},{"name":"dim_ageing_M","type":"expression_scalar","source":[103],"depends":null,"lhs":"dim_ageing_M","rhs":{"value":2}},{"name":"dim_ageing_R","type":"expression_scalar","source":[97],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_ageing_R","rhs":{"value":"n_age"}},{"name":"dim_ageing_S","type":"expression_scalar","source":[94],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_ageing_S","rhs":{"value":"n_age"}},{"name":"dim_ageing_V","type":"expression_scalar","source":[100],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_ageing_V","rhs":{"value":"n_age"}},{"name":"dim_birth_rate","type":"expression_scalar","source":[20],"depends":{"functions":[],"variables":["dim_birth_rate_1","dim_birth_rate_2"]},"lhs":"dim_birth_rate","rhs":{"value":["*","dim_birth_rate_1","dim_birth_rate_2"]}},{"name":"dim_birth_rate_1","type":"expression_scalar","source":[20],"depends":{"functions":["length"],"variables":["dim_tt_birth_rate","n_age"]},"lhs":"dim_birth_rate_1","rhs":{"value":["length","tt_birth_rate"]}},{"name":"dim_birth_rate_2","type":"expression_scalar","source":[20],"depends":{"functions":["length"],"variables":["dim_tt_birth_rate","n_age"]},"lhs":"dim_birth_rate_2","rhs":{"value":"n_age"}},{"name":"dim_death_rate","type":"expression_scalar","source":[11],"depends":{"functions":[],"variables":["dim_death_rate_1","dim_death_rate_2"]},"lhs":"dim_death_rate","rhs":{"value":["*","dim_death_rate_1","dim_death_rate_2"]}},{"name":"dim_death_rate_1","type":"expression_scalar","source":[11],"depends":{"functions":["length"],"variables":["dim_tt_death_rate","n_age"]},"lhs":"dim_death_rate_1","rhs":{"value":["length","tt_death_rate"]}},{"name":"dim_death_rate_2","type":"expression_scalar","source":[11],"depends":{"functions":["length"],"variables":["dim_tt_death_rate","n_age"]},"lhs":"dim_death_rate_2","rhs":{"value":"n_age"}},{"name":"dim_deaths_M","type":"expression_scalar","source":[91],"depends":null,"lhs":"dim_deaths_M","rhs":{"value":2}},{"name":"dim_deaths_R","type":"expression_scalar","source":[85],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_deaths_R","rhs":{"value":"n_age"}},{"name":"dim_deaths_S","type":"expression_scalar","source":[82],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_deaths_S","rhs":{"value":"n_age"}},{"name":"dim_deaths_V","type":"expression_scalar","source":[88],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_deaths_V","rhs":{"value":"n_age"}},{"name":"dim_foi","type":"expression_scalar","source":[33],"depends":{"functions":[],"variables":["dim_foi_1","dim_foi_2"]},"lhs":"dim_foi","rhs":{"value":["*","dim_foi_1","dim_foi_2"]}},{"name":"dim_foi_1","type":"expression_scalar","source":[33],"depends":{"functions":["length"],"variables":["dim_tt_foi","n_age"]},"lhs":"dim_foi_1","rhs":{"value":["length","tt_foi"]}},{"name":"dim_foi_2","type":"expression_scalar","source":[33],"depends":{"functions":["length"],"variables":["dim_tt_foi","n_age"]},"lhs":"dim_foi_2","rhs":{"value":"n_age"}},{"name":"dim_infections","type":"expression_scalar","source":[79],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_infections","rhs":{"value":"n_age"}},{"name":"dim_M","type":"expression_scalar","source":[153],"depends":null,"lhs":"dim_M","rhs":{"value":2}},{"name":"dim_M_0","type":"expression_scalar","source":[50],"depends":null,"lhs":"dim_M_0","rhs":{"value":2}},{"name":"dim_M_births","type":"expression_scalar","source":[64],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_M_births","rhs":{"value":"n_age"}},{"name":"dim_natural_waning","type":"expression_scalar","source":[71],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_natural_waning","rhs":{"value":"n_age"}},{"name":"dim_p_vaccinate","type":"expression_scalar","source":[110],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_p_vaccinate","rhs":{"value":"n_age"}},{"name":"dim_R","type":"expression_scalar","source":[142],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_R","rhs":{"value":"n_age"}},{"name":"dim_R_0","type":"expression_scalar","source":[56],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_R_0","rhs":{"value":"n_age"}},{"name":"dim_S","type":"expression_scalar","source":[135],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_S","rhs":{"value":"n_age"}},{"name":"dim_S_0","type":"expression_scalar","source":[53],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_S_0","rhs":{"value":"n_age"}},{"name":"dim_S_births","type":"expression_scalar","source":[61],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_S_births","rhs":{"value":"n_age"}},{"name":"dim_t_birth_rate","type":"expression_scalar","source":[23],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_t_birth_rate","rhs":{"value":"n_age"}},{"name":"dim_t_death_rate","type":"expression_scalar","source":[14],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_t_death_rate","rhs":{"value":"n_age"}},{"name":"dim_t_foi","type":"expression_scalar","source":[36],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_t_foi","rhs":{"value":"n_age"}},{"name":"dim_t_vaccine_doses","type":"expression_scalar","source":[47],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_t_vaccine_doses","rhs":{"value":"n_age"}},{"name":"dim_total_vaccine_doses","type":"expression_scalar","source":[163],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_total_vaccine_doses","rhs":{"value":"n_age"}},{"name":"dim_V","type":"expression_scalar","source":[147],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_V","rhs":{"value":"n_age"}},{"name":"dim_vaccination_attempts_R","type":"expression_scalar","source":[126],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_vaccination_attempts_R","rhs":{"value":"n_age"}},{"name":"dim_vaccination_attempts_S","type":"expression_scalar","source":[120],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_vaccination_attempts_S","rhs":{"value":"n_age"}},{"name":"dim_vaccination_doses","type":"expression_scalar","source":[166],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_vaccination_doses","rhs":{"value":"n_age"}},{"name":"dim_vaccination_rate","type":"expression_scalar","source":[117],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_vaccination_rate","rhs":{"value":"n_age"}},{"name":"dim_vaccinations_R","type":"expression_scalar","source":[129],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_vaccinations_R","rhs":{"value":"n_age"}},{"name":"dim_vaccinations_S","type":"expression_scalar","source":[123],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_vaccinations_S","rhs":{"value":"n_age"}},{"name":"dim_vaccine_doses","type":"expression_scalar","source":[44],"depends":{"functions":[],"variables":["dim_vaccine_doses_1","dim_vaccine_doses_2"]},"lhs":"dim_vaccine_doses","rhs":{"value":["*","dim_vaccine_doses_1","dim_vaccine_doses_2"]}},{"name":"dim_vaccine_doses_1","type":"expression_scalar","source":[44],"depends":{"functions":["length"],"variables":["dim_tt_vaccine_doses","n_age"]},"lhs":"dim_vaccine_doses_1","rhs":{"value":["length","tt_vaccine_doses"]}},{"name":"dim_vaccine_doses_2","type":"expression_scalar","source":[44],"depends":{"functions":["length"],"variables":["dim_tt_vaccine_doses","n_age"]},"lhs":"dim_vaccine_doses_2","rhs":{"value":"n_age"}},{"name":"dim_vaccine_waning","type":"expression_scalar","source":[74],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_vaccine_waning","rhs":{"value":"n_age"}},{"name":"foi","type":"user","source":[32],"depends":{"functions":["dim"],"variables":["dim_foi"]},"lhs":"foi","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"infections","type":"expression_array","source":[78],"depends":{"functions":["length","*","["],"variables":["dim_infections","t_foi","i","S","alloc_infections"]},"lhs":"infections","rhs":[{"index":[{"value":[":",1,["length","infections"]],"is_range":true,"index":"i"}],"value":["*",["[","t_foi","i"],["[","S","i"]]}]},{"name":"initial_M","type":"expression_array","source":[154],"depends":{"functions":["length","["],"variables":["dim_M","M_0","i"]},"lhs":"initial_M","rhs":[{"index":[{"value":[":",1,["length","M"]],"is_range":true,"index":"i"}],"value":["[","M_0","i"]}]},{"name":"initial_R","type":"expression_array","source":[143],"depends":{"functions":["length","["],"variables":["dim_R","R_0","i"]},"lhs":"initial_R","rhs":[{"index":[{"value":[":",1,["length","R"]],"is_range":true,"index":"i"}],"value":["[","R_0","i"]}]},{"name":"initial_S","type":"expression_array","source":[136],"depends":{"functions":["length","["],"variables":["dim_S","S_0","i"]},"lhs":"initial_S","rhs":[{"index":[{"value":[":",1,["length","S"]],"is_range":true,"index":"i"}],"value":["[","S_0","i"]}]},{"name":"initial_V","type":"expression_array","source":[148],"depends":{"functions":["length"],"variables":["dim_V"]},"lhs":"initial_V","rhs":[{"index":[{"value":[":",1,["length","V"]],"is_range":true,"index":"i"}],"value":0}]},{"name":"interpolate_t_birth_rate","type":"alloc_interpolate","source":[22],"depends":{"functions":["length"],"variables":["dim_t_birth_rate","tt_birth_rate","birth_rate","alloc_t_birth_rate"]},"lhs":"interpolate_t_birth_rate","interpolate":{"t":"tt_birth_rate","y":"birth_rate","type":"constant","equation":"t_birth_rate"}},{"name":"interpolate_t_death_rate","type":"alloc_interpolate","source":[13],"depends":{"functions":["length"],"variables":["dim_t_death_rate","tt_death_rate","death_rate","alloc_t_death_rate"]},"lhs":"interpolate_t_death_rate","interpolate":{"t":"tt_death_rate","y":"death_rate","type":"constant","equation":"t_death_rate"}},{"name":"interpolate_t_foi","type":"alloc_interpolate","source":[35],"depends":{"functions":["length"],"variables":["dim_t_foi","tt_foi","foi","alloc_t_foi"]},"lhs":"interpolate_t_foi","interpolate":{"t":"tt_foi","y":"foi","type":"constant","equation":"t_foi"}},{"name":"interpolate_t_vaccine_doses","type":"alloc_interpolate","source":[46],"depends":{"functions":["length"],"variables":["dim_t_vaccine_doses","tt_vaccine_doses","vaccine_doses","alloc_t_vaccine_doses"]},"lhs":"interpolate_t_vaccine_doses","interpolate":{"t":"tt_vaccine_doses","y":"vaccine_doses","type":"constant","equation":"t_vaccine_doses"}},{"name":"loses_maternal","type":"expression_scalar","source":[76],"depends":{"functions":["*","["],"variables":["maternal_waning","M"]},"lhs":"loses_maternal","rhs":{"value":["*","maternal_waning",["[","M",2]]}},{"name":"M_0","type":"user","source":[49],"depends":{"functions":["length"],"variables":["dim_M_0"]},"lhs":"M_0","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"M_births","type":"expression_array","source":[63],"depends":{"functions":["length","*","(","+","["],"variables":["dim_M_births","R","i","V","t_birth_rate","alloc_M_births"]},"lhs":"M_births","rhs":[{"index":[{"value":[":",1,["length","M_births"]],"is_range":true,"index":"i"}],"value":["*",["(",["+",["[","R","i"],["[","V","i"]]],["[","t_birth_rate","i"]]}]},{"name":"maternal_waning","type":"user","source":[25],"depends":null,"lhs":"maternal_waning","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"n_age","type":"user","source":[2],"depends":null,"lhs":"n_age","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"natural_waning","type":"expression_array","source":[70],"depends":{"functions":["length","*","["],"variables":["dim_natural_waning","waning","R","i","alloc_natural_waning"]},"lhs":"natural_waning","rhs":[{"index":[{"value":[":",1,["length","natural_waning"]],"is_range":true,"index":"i"}],"value":["*","waning",["[","R","i"]]}]},{"name":"offset_variable_M","type":"expression_scalar","source":[],"depends":{"functions":["+"],"variables":["dim_R","dim_S","dim_V"]},"lhs":"offset_variable_M","rhs":{"value":["+",["+","dim_R","dim_S"],"dim_V"]}},{"name":"offset_variable_V","type":"expression_scalar","source":[],"depends":{"functions":["+"],"variables":["dim_R","dim_S"]},"lhs":"offset_variable_V","rhs":{"value":["+","dim_R","dim_S"]}},{"name":"output_vaccination_doses","type":"expression_array","source":[165],"depends":{"functions":["length","["],"variables":["dim_vaccination_doses","total_vaccine_doses","i"]},"lhs":"vaccination_doses","rhs":[{"index":[{"value":[":",1,["length","vaccination_doses"]],"is_range":true,"index":"i"}],"value":["[","total_vaccine_doses","i"]}]},{"name":"p_vaccinate","type":"expression_array","source":[107,108,109],"depends":{"functions":["min","/","[","(","+"],"variables":["dim_p_vaccinate","t_vaccine_doses","i","S","R","M","n_age","alloc_p_vaccinate"]},"lhs":"p_vaccinate","rhs":[{"index":[{"value":1,"is_range":false,"index":"i"}],"value":0},{"index":[{"value":2,"is_range":false,"index":"i"}],"value":["min",["/",["[","t_vaccine_doses","i"],["(",["+",["+",["[","S","i"],["[","R","i"]],["[","M","i"]]]],0.9999]},{"index":[{"value":[":",3,"n_age"],"is_range":true,"index":"i"}],"value":["min",["/",["[","t_vaccine_doses","i"],["(",["+",["[","S","i"],["[","R","i"]]]],0.9999]}]},{"name":"R_0","type":"user","source":[55],"depends":{"functions":["length"],"variables":["dim_R_0"]},"lhs":"R_0","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"S_0","type":"user","source":[52],"depends":{"functions":["length"],"variables":["dim_S_0"]},"lhs":"S_0","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"S_births","type":"expression_array","source":[60],"depends":{"functions":["length","*","["],"variables":["dim_S_births","S","i","t_birth_rate","alloc_S_births"]},"lhs":"S_births","rhs":[{"index":[{"value":[":",1,["length","S_births"]],"is_range":true,"index":"i"}],"value":["*",["[","S","i"],["[","t_birth_rate","i"]]}]},{"name":"t_birth_rate","type":"interpolate","source":[22],"depends":{"functions":[],"variables":["t","interpolate_t_birth_rate"]},"lhs":"t_birth_rate","interpolate":"interpolate_t_birth_rate"},{"name":"t_death_rate","type":"interpolate","source":[13],"depends":{"functions":[],"variables":["t","interpolate_t_death_rate"]},"lhs":"t_death_rate","interpolate":"interpolate_t_death_rate"},{"name":"t_foi","type":"interpolate","source":[35],"depends":{"functions":[],"variables":["t","interpolate_t_foi"]},"lhs":"t_foi","interpolate":"interpolate_t_foi"},{"name":"t_vaccine_doses","type":"interpolate","source":[46],"depends":{"functions":[],"variables":["t","interpolate_t_vaccine_doses"]},"lhs":"t_vaccine_doses","interpolate":"interpolate_t_vaccine_doses"},{"name":"total_vaccine_doses","type":"expression_array","source":[160,161,162],"depends":{"functions":["+","["],"variables":["dim_total_vaccine_doses","vaccination_attempts_S","vaccination_attempts_R","vaccination_attempts_M","n_age","i","alloc_total_vaccine_doses"]},"lhs":"total_vaccine_doses","rhs":[{"index":[{"value":1,"is_range":false,"index":"i"}],"value":["+",["[","vaccination_attempts_S",1],["[","vaccination_attempts_R",1]]},{"index":[{"value":2,"is_range":false,"index":"i"}],"value":["+",["+",["[","vaccination_attempts_S",2],["[","vaccination_attempts_R",2]],"vaccination_attempts_M"]},{"index":[{"value":[":",3,"n_age"],"is_range":true,"index":"i"}],"value":["+",["[","vaccination_attempts_S","i"],["[","vaccination_attempts_R","i"]]}]},{"name":"tt_birth_rate","type":"user","source":[16],"depends":null,"lhs":"tt_birth_rate","user":{"default":null,"dim":true,"min":null,"max":null}},{"name":"tt_death_rate","type":"user","source":[7],"depends":null,"lhs":"tt_death_rate","user":{"default":null,"dim":true,"min":null,"max":null}},{"name":"tt_foi","type":"user","source":[29],"depends":null,"lhs":"tt_foi","user":{"default":null,"dim":true,"min":null,"max":null}},{"name":"tt_vaccine_doses","type":"user","source":[40],"depends":null,"lhs":"tt_vaccine_doses","user":{"default":null,"dim":true,"min":null,"max":null}},{"name":"vaccination_attempts_M","type":"expression_scalar","source":[131],"depends":{"functions":["*","["],"variables":["vaccination_rate","M"]},"lhs":"vaccination_attempts_M","rhs":{"value":["*",["[","vaccination_rate",2],["[","M",2]]}},{"name":"vaccination_attempts_R","type":"expression_array","source":[125],"depends":{"functions":["length","*","["],"variables":["dim_vaccination_attempts_R","vaccination_rate","i","R","alloc_vaccination_attempts_R"]},"lhs":"vaccination_attempts_R","rhs":[{"index":[{"value":[":",1,["length","vaccination_attempts_R"]],"is_range":true,"index":"i"}],"value":["*",["[","vaccination_rate","i"],["[","R","i"]]}]},{"name":"vaccination_attempts_S","type":"expression_array","source":[119],"depends":{"functions":["length","*","["],"variables":["dim_vaccination_attempts_S","vaccination_rate","i","S","alloc_vaccination_attempts_S"]},"lhs":"vaccination_attempts_S","rhs":[{"index":[{"value":[":",1,["length","vaccination_attempts_S"]],"is_range":true,"index":"i"}],"value":["*",["[","vaccination_rate","i"],["[","S","i"]]}]},{"name":"vaccination_rate","type":"expression_array","source":[116],"depends":{"functions":["length","-","log","["],"variables":["dim_vaccination_rate","p_vaccinate","i","alloc_vaccination_rate"]},"lhs":"vaccination_rate","rhs":[{"index":[{"value":[":",1,["length","vaccination_rate"]],"is_range":true,"index":"i"}],"value":["-",["log",["-",1,["[","p_vaccinate","i"]]]]}]},{"name":"vaccinations_M","type":"expression_scalar","source":[132],"depends":{"functions":["*"],"variables":["vaccination_attempts_M","vaccine_efficacy"]},"lhs":"vaccinations_M","rhs":{"value":["*","vaccination_attempts_M","vaccine_efficacy"]}},{"name":"vaccinations_R","type":"expression_array","source":[128],"depends":{"functions":["length","*","["],"variables":["dim_vaccinations_R","vaccination_attempts_R","i","vaccine_efficacy","alloc_vaccinations_R"]},"lhs":"vaccinations_R","rhs":[{"index":[{"value":[":",1,["length","vaccinations_R"]],"is_range":true,"index":"i"}],"value":["*",["[","vaccination_attempts_R","i"],"vaccine_efficacy"]}]},{"name":"vaccinations_S","type":"expression_array","source":[122],"depends":{"functions":["length","*","["],"variables":["dim_vaccinations_S","vaccination_attempts_S","i","vaccine_efficacy","alloc_vaccinations_S"]},"lhs":"vaccinations_S","rhs":[{"index":[{"value":[":",1,["length","vaccinations_S"]],"is_range":true,"index":"i"}],"value":["*",["[","vaccination_attempts_S","i"],"vaccine_efficacy"]}]},{"name":"vaccine_doses","type":"user","source":[43],"depends":{"functions":["dim"],"variables":["dim_vaccine_doses"]},"lhs":"vaccine_doses","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"vaccine_efficacy","type":"user","source":[38],"depends":null,"lhs":"vaccine_efficacy","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"vaccine_waning","type":"expression_array","source":[73],"depends":{"functions":["length","*","["],"variables":["dim_vaccine_waning","waning","V","i","alloc_vaccine_waning"]},"lhs":"vaccine_waning","rhs":[{"index":[{"value":[":",1,["length","vaccine_waning"]],"is_range":true,"index":"i"}],"value":["*","waning",["[","V","i"]]}]},{"name":"waning","type":"user","source":[27],"depends":null,"lhs":"waning","user":{"default":null,"dim":false,"min":null,"max":null}}],"debug":[],"components":{"create":{"variables":[],"equations":["dim_ageing_M","dim_deaths_M","dim_M","dim_M_0","alloc_ageing_M","alloc_deaths_M","alloc_initial_M"]},"user":{"variables":[],"equations":["maternal_waning","n_age","tt_birth_rate","tt_death_rate","tt_foi","tt_vaccine_doses","vaccine_efficacy","waning","dim_age_rate","dim_ageing_R","dim_ageing_S","dim_ageing_V","dim_deaths_R","dim_deaths_S","dim_deaths_V","dim_infections","dim_M_births","dim_natural_waning","dim_p_vaccinate","dim_R","dim_R_0","dim_S","dim_S_0","dim_S_births","dim_t_birth_rate","dim_t_death_rate","dim_t_foi","dim_t_vaccine_doses","dim_total_vaccine_doses","dim_V","dim_vaccination_attempts_R","dim_vaccination_attempts_S","dim_vaccination_doses","dim_vaccination_rate","dim_vaccinations_R","dim_vaccinations_S","dim_vaccine_waning","M_0","age_rate","alloc_ageing_R","alloc_ageing_S","alloc_ageing_V","alloc_deaths_R","alloc_deaths_S","alloc_deaths_V","alloc_infections","alloc_initial_R","alloc_initial_S","alloc_initial_V","alloc_M_births","alloc_natural_waning","alloc_p_vaccinate","alloc_S_births","alloc_t_birth_rate","alloc_t_death_rate","alloc_t_foi","alloc_t_vaccine_doses","alloc_total_vaccine_doses","alloc_vaccination_attempts_R","alloc_vaccination_attempts_S","alloc_vaccination_rate","alloc_vaccinations_R","alloc_vaccinations_S","alloc_vaccine_waning","dim_birth_rate_1","dim_birth_rate_2","dim_death_rate_1","dim_death_rate_2","dim_foi_1","dim_foi_2","dim_vaccine_doses_1","dim_vaccine_doses_2","initial_M","initial_V","offset_variable_M","offset_variable_V","R_0","S_0","dim_birth_rate","dim_death_rate","dim_foi","dim_vaccine_doses","initial_R","initial_S","birth_rate","death_rate","foi","vaccine_doses","interpolate_t_birth_rate","interpolate_t_death_rate","interpolate_t_foi","interpolate_t_vaccine_doses"]},"initial":{"variables":[],"equations":[]},"rhs":{"variables":["S","R","V","M"],"equations":["loses_maternal","ageing_M","ageing_R","ageing_S","ageing_V","natural_waning","vaccine_waning","t_birth_rate","t_death_rate","t_foi","t_vaccine_doses","deaths_M","deaths_R","deaths_S","deaths_V","infections","M_births","p_vaccinate","S_births","births_M","births_S","vaccination_rate","vaccination_attempts_M","vaccination_attempts_R","vaccination_attempts_S","vaccinations_M","vaccinations_R","vaccinations_S","deriv_M","deriv_R","deriv_S","deriv_V"]},"update_stochastic":{"variables":[],"equations":[]},"output":{"variables":["S","R","M"],"equations":["t_vaccine_doses","p_vaccinate","vaccination_rate","vaccination_attempts_M","vaccination_attempts_R","vaccination_attempts_S","total_vaccine_doses","output_vaccination_doses"]},"compare":{"variables":[],"equations":[]}},"user":[{"name":"age_rate","has_default":false},{"name":"birth_rate","has_default":false},{"name":"death_rate","has_default":false},{"name":"foi","has_default":false},{"name":"M_0","has_default":false},{"name":"maternal_waning","has_default":false},{"name":"n_age","has_default":false},{"name":"R_0","has_default":false},{"name":"S_0","has_default":false},{"name":"tt_birth_rate","has_default":false},{"name":"tt_death_rate","has_default":false},{"name":"tt_foi","has_default":false},{"name":"tt_vaccine_doses","has_default":false},{"name":"vaccine_doses","has_default":false},{"name":"vaccine_efficacy","has_default":false},{"name":"waning","has_default":false}],"interpolate":{"min":["tt_birth_rate","tt_death_rate","tt_foi","tt_vaccine_doses"],"max":[],"critical":["tt_birth_rate","tt_death_rate","tt_foi","tt_vaccine_doses"]},"source":["#inputs","n_age <- user()","","age_rate[] <- user()","dim(age_rate) <- n_age","","tt_death_rate[] <- user()","dim(tt_death_rate) <- user()","","death_rate[,] <- user()","dim(death_rate) <- c(length(tt_death_rate), n_age)","","t_death_rate[] <- interpolate(tt_death_rate, death_rate, \"constant\")","dim(t_death_rate) <- n_age","","tt_birth_rate[] <- user()","dim(tt_birth_rate) <- user()","","birth_rate[,] <- user()","dim(birth_rate) <- c(length(tt_birth_rate), n_age)","","t_birth_rate[] <- interpolate(tt_birth_rate, birth_rate, \"constant\")","dim(t_birth_rate) <- n_age","","maternal_waning <- user()","","waning <- user()","","tt_foi[] <- user()","dim(tt_foi) <- user()","","foi[,] <- user()","dim(foi) <- c(length(tt_foi), n_age)","","t_foi[] <- interpolate(tt_foi, foi, \"constant\")","dim(t_foi) <- n_age","","vaccine_efficacy <- user()","","tt_vaccine_doses[] <- user()","dim(tt_vaccine_doses) <- user()","","vaccine_doses[,] <- user()","dim(vaccine_doses) <- c(length(tt_vaccine_doses), n_age)","","t_vaccine_doses[] <- interpolate(tt_vaccine_doses, vaccine_doses, \"constant\")","dim(t_vaccine_doses) <- n_age","","M_0[] <- user()","dim(M_0) <- 2","","S_0[] <- user()","dim(S_0) <- n_age","","R_0[] <- user()","dim(R_0) <- n_age","","#tranistions","","S_births[] <- S[i] * t_birth_rate[i]","dim(S_births) <- n_age","","M_births[] <- (R[i] + V[i]) * t_birth_rate[i]","dim(M_births) <- n_age","","births_S <- sum(S_births[])","","births_M <- sum(M_births[])","","natural_waning[] <- waning * R[i]","dim(natural_waning) <- n_age","","vaccine_waning[] <- waning * V[i]","dim(vaccine_waning) <- n_age","","loses_maternal <- maternal_waning * M[2] #only wanes in the last stage","","infections[] <- t_foi[i] * S[i]","dim(infections) <- n_age","","deaths_S[] <- t_death_rate[i] * S[i]","dim(deaths_S) <- n_age","","deaths_R[] <- t_death_rate[i] * R[i]","dim(deaths_R) <- n_age","","deaths_V[] <- t_death_rate[i] * V[i]","dim(deaths_V) <- n_age","","deaths_M[] <- t_death_rate[i] * M[i]","dim(deaths_M) <- 2","","ageing_S[] <- age_rate[i] * S[i]","dim(ageing_S) <- n_age","","ageing_R[] <- age_rate[i] * R[i]","dim(ageing_R) <- n_age","","ageing_V[] <- age_rate[i] * V[i]","dim(ageing_V) <- n_age","","ageing_M[] <- age_rate[i] * M[i]","dim(ageing_M) <- 2","","#todo add check against non all or nothing","#vaccine dose calculations (with a numerical limit)","p_vaccinate[1] <-  0","p_vaccinate[2] <- min(t_vaccine_doses[i] / (S[i] + R[i] + M[i]), 0.9999)","p_vaccinate[3:n_age] <- min(t_vaccine_doses[i] / (S[i] + R[i]), 0.9999)","dim(p_vaccinate) <- n_age","","#output(temp_p_vaccinate[]) <- p_vaccinate[i]","#dim(temp_p_vaccinate) <- n_age","","","vaccination_rate[] <- -log(1 - p_vaccinate[i])","dim(vaccination_rate) <- n_age","","vaccination_attempts_S[] <- vaccination_rate[i] * S[i]","dim(vaccination_attempts_S) <- n_age","","vaccinations_S[] <- vaccination_attempts_S[i] * vaccine_efficacy","dim(vaccinations_S) <- n_age","","vaccination_attempts_R[] <- vaccination_rate[i] * R[i]","dim(vaccination_attempts_R) <- n_age","","vaccinations_R[] <- vaccination_attempts_R[i] * vaccine_efficacy","dim(vaccinations_R) <- n_age","","vaccination_attempts_M <- vaccination_rate[2] * M[2]","vaccinations_M <- vaccination_attempts_M * vaccine_efficacy","","#derivatives","dim(S) <- n_age","initial(S[]) <- S_0[i]","deriv(S[1]) <- births_S + natural_waning[i] - ageing_S[i] - infections[i] - deaths_S[i]","deriv(S[2]) <- loses_maternal + ageing_S[i-1] + natural_waning[i] + vaccine_waning[i] - vaccinations_S[i] - ageing_S[i] - infections[i] - deaths_S[i]","deriv(S[3]) <- ageing_S[i-1] + ageing_M[2] + natural_waning[i] + vaccine_waning[i] - vaccinations_S[i] - ageing_S[i] - infections[i] - deaths_S[i]","deriv(S[4:n_age]) <- ageing_S[i-1] + natural_waning[i] + vaccine_waning[i] - vaccinations_S[i] - ageing_S[i] - infections[i] - deaths_S[i]","","dim(R) <- n_age","initial(R[]) <- R_0[i]","deriv(R[1]) <- infections[i] - ageing_R[i] - deaths_R[i] - natural_waning[i]","deriv(R[2:n_age]) <- infections[i] + ageing_R[i-1] - vaccinations_R[i] - ageing_R[i] - deaths_R[i] - natural_waning[i]","","dim(V) <- n_age","initial(V[]) <- 0","deriv(V[1]) <- 0","deriv(V[2]) <- vaccinations_S[i] + vaccinations_R[i] + vaccinations_M + ageing_V[i-1] - ageing_V[i] - deaths_V[i] - vaccine_waning[i]","deriv(V[3:n_age]) <- vaccinations_S[i] + vaccinations_R[i] + ageing_V[i-1] - ageing_V[i] - deaths_V[i] - vaccine_waning[i]","","dim(M) <- 2","initial(M[]) <- M_0[i]","deriv(M[1]) <- births_M - ageing_M[1] - deaths_M[1]","deriv(M[2]) <- ageing_M[1] - vaccinations_M - ageing_M[2] - deaths_M[2] - loses_maternal","","#outputs","","total_vaccine_doses[1] <- vaccination_attempts_S[1] + vaccination_attempts_R[1]","total_vaccine_doses[2] <- vaccination_attempts_S[2] + vaccination_attempts_R[2] + vaccination_attempts_M","total_vaccine_doses[3:n_age] <- vaccination_attempts_S[i] + vaccination_attempts_R[i]","dim(total_vaccine_doses) <- n_age","","output(vaccination_doses[]) <- total_vaccine_doses[i]","dim(vaccination_doses) <- n_age"]}
