{"version":"1.5.9","config":{"base":"deterministic","include":null,"custom":null},"meta":{"internal":"internal","user":"user","state":"state","result":"dstatedt","output":"output","time":"t","initial_time":"initial_t"},"features":{"continuous":true,"discrete":false,"mixed":false,"has_array":true,"has_output":true,"has_user":true,"has_delay":false,"has_interpolate":false,"has_stochastic":false,"has_data":false,"has_compare":false,"has_include":false,"has_debug":false,"has_derivative":false,"initial_time_dependent":false},"data":{"elements":[{"name":"age_rate","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_age_rate","dim":[],"mult":[]},"stage":"user"},{"name":"ageing_M","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_ageing_M","dim":[],"mult":[]},"stage":"time"},{"name":"ageing_R","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_ageing_R","dim":[],"mult":[]},"stage":"time"},{"name":"ageing_S","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_ageing_S","dim":[],"mult":[]},"stage":"time"},{"name":"ageing_V","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_ageing_V","dim":[],"mult":[]},"stage":"time"},{"name":"birth_rate","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"births_M","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"births_S","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"child_bearing_ages","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_child_bearing_ages","dim":[],"mult":[]},"stage":"user"},{"name":"death_rate","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_death_rate","dim":[],"mult":[]},"stage":"user"},{"name":"deaths_M","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_deaths_M","dim":[],"mult":[]},"stage":"time"},{"name":"deaths_R","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_deaths_R","dim":[],"mult":[]},"stage":"time"},{"name":"deaths_S","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_deaths_S","dim":[],"mult":[]},"stage":"time"},{"name":"deaths_V","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_deaths_V","dim":[],"mult":[]},"stage":"time"},{"name":"dim_age_rate","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_ageing_M","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"constant"},{"name":"dim_ageing_R","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_ageing_S","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_ageing_V","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_child_bearing_ages","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_death_rate","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_deaths_M","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"constant"},{"name":"dim_deaths_R","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_deaths_S","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_deaths_V","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_foi","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_infections","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_M","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"constant"},{"name":"dim_M_0","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"constant"},{"name":"dim_M_child_bearing","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_natural_waning","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_R","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_R_0","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_S","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_S_0","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_S_child_bearing","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_total_vaccine_doses","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_V","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_vaccination_attempts","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_vaccination_doses","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_vaccination_rate","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_vaccinations","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_vaccine_waning","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"foi","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_foi","dim":[],"mult":[]},"stage":"user"},{"name":"infections","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_infections","dim":[],"mult":[]},"stage":"time"},{"name":"initial_M","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_M","dim":[],"mult":[]},"stage":"user"},{"name":"initial_R","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_R","dim":[],"mult":[]},"stage":"user"},{"name":"initial_S","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_S","dim":[],"mult":[]},"stage":"user"},{"name":"initial_V","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_V","dim":[],"mult":[]},"stage":"user"},{"name":"loses_maternal","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"M","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_M","dim":[],"mult":[]},"stage":"time"},{"name":"M_0","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_M_0","dim":[],"mult":[]},"stage":"user"},{"name":"M_child_bearing","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_M_child_bearing","dim":[],"mult":[]},"stage":"time"},{"name":"maternal_vaccination_attempts","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"maternal_vaccinations","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"maternal_waning","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"n_age","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"natural_waning","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_natural_waning","dim":[],"mult":[]},"stage":"time"},{"name":"offset_variable_M","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"offset_variable_V","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"R","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_R","dim":[],"mult":[]},"stage":"time"},{"name":"R_0","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_R_0","dim":[],"mult":[]},"stage":"user"},{"name":"S","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_S","dim":[],"mult":[]},"stage":"time"},{"name":"S_0","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_S_0","dim":[],"mult":[]},"stage":"user"},{"name":"S_child_bearing","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_S_child_bearing","dim":[],"mult":[]},"stage":"time"},{"name":"total_vaccine_doses","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_total_vaccine_doses","dim":[],"mult":[]},"stage":"time"},{"name":"V","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_V","dim":[],"mult":[]},"stage":"time"},{"name":"vaccination_attempts","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_vaccination_attempts","dim":[],"mult":[]},"stage":"time"},{"name":"vaccination_doses","location":"output","storage_type":"double","rank":1,"dimnames":{"length":"dim_vaccination_doses","dim":[],"mult":[]},"stage":"time"},{"name":"vaccination_rate","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_vaccination_rate","dim":[],"mult":[]},"stage":"user"},{"name":"vaccinations","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_vaccinations","dim":[],"mult":[]},"stage":"time"},{"name":"vaccine_efficacy","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"vaccine_waning","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_vaccine_waning","dim":[],"mult":[]},"stage":"time"},{"name":"waning","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"}],"variable":{"length":["+",["+",["+","dim_M","dim_R"],"dim_S"],"dim_V"],"contents":[{"name":"S","offset":0,"initial":"initial_S"},{"name":"R","offset":"dim_S","initial":"initial_R"},{"name":"V","offset":"offset_variable_V","initial":"initial_V"},{"name":"M","offset":"offset_variable_M","initial":"initial_M"}]},"output":{"length":"dim_vaccination_doses","contents":[{"name":"vaccination_doses","offset":0}]}},"equations":[{"name":"age_rate","type":"user","source":[4],"depends":{"functions":["length"],"variables":["dim_age_rate"]},"lhs":"age_rate","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"ageing_M","type":"expression_array","source":[81],"depends":{"functions":["length","*","["],"variables":["dim_ageing_M","age_rate","i","M","alloc_ageing_M"]},"lhs":"ageing_M","rhs":[{"index":[{"value":[":",1,["length","ageing_M"]],"is_range":true,"index":"i"}],"value":["*",["[","age_rate","i"],["[","M","i"]]}]},{"name":"ageing_R","type":"expression_array","source":[75],"depends":{"functions":["length","*","["],"variables":["dim_ageing_R","age_rate","i","R","alloc_ageing_R"]},"lhs":"ageing_R","rhs":[{"index":[{"value":[":",1,["length","ageing_R"]],"is_range":true,"index":"i"}],"value":["*",["[","age_rate","i"],["[","R","i"]]}]},{"name":"ageing_S","type":"expression_array","source":[72],"depends":{"functions":["length","*","["],"variables":["dim_ageing_S","age_rate","i","S","alloc_ageing_S"]},"lhs":"ageing_S","rhs":[{"index":[{"value":[":",1,["length","ageing_S"]],"is_range":true,"index":"i"}],"value":["*",["[","age_rate","i"],["[","S","i"]]}]},{"name":"ageing_V","type":"expression_array","source":[78],"depends":{"functions":["length","*","["],"variables":["dim_ageing_V","age_rate","i","V","alloc_ageing_V"]},"lhs":"ageing_V","rhs":[{"index":[{"value":[":",1,["length","ageing_V"]],"is_range":true,"index":"i"}],"value":["*",["[","age_rate","i"],["[","V","i"]]}]},{"name":"alloc_ageing_M","type":"alloc","source":[82],"depends":{"functions":[],"variables":["dim_ageing_M"]},"lhs":"ageing_M"},{"name":"alloc_ageing_R","type":"alloc","source":[76],"depends":{"functions":[],"variables":["dim_ageing_R"]},"lhs":"ageing_R"},{"name":"alloc_ageing_S","type":"alloc","source":[73],"depends":{"functions":[],"variables":["dim_ageing_S"]},"lhs":"ageing_S"},{"name":"alloc_ageing_V","type":"alloc","source":[79],"depends":{"functions":[],"variables":["dim_ageing_V"]},"lhs":"ageing_V"},{"name":"alloc_deaths_M","type":"alloc","source":[70],"depends":{"functions":[],"variables":["dim_deaths_M"]},"lhs":"deaths_M"},{"name":"alloc_deaths_R","type":"alloc","source":[64],"depends":{"functions":[],"variables":["dim_deaths_R"]},"lhs":"deaths_R"},{"name":"alloc_deaths_S","type":"alloc","source":[61],"depends":{"functions":[],"variables":["dim_deaths_S"]},"lhs":"deaths_S"},{"name":"alloc_deaths_V","type":"alloc","source":[67],"depends":{"functions":[],"variables":["dim_deaths_V"]},"lhs":"deaths_V"},{"name":"alloc_infections","type":"alloc","source":[58],"depends":{"functions":[],"variables":["dim_infections"]},"lhs":"infections"},{"name":"alloc_initial_M","type":"alloc","source":[116],"depends":{"functions":[],"variables":["dim_M"]},"lhs":"initial_M"},{"name":"alloc_initial_R","type":"alloc","source":[105],"depends":{"functions":[],"variables":["dim_R"]},"lhs":"initial_R"},{"name":"alloc_initial_S","type":"alloc","source":[99],"depends":{"functions":[],"variables":["dim_S"]},"lhs":"initial_S"},{"name":"alloc_initial_V","type":"alloc","source":[110],"depends":{"functions":[],"variables":["dim_V"]},"lhs":"initial_V"},{"name":"alloc_M_child_bearing","type":"alloc","source":[43],"depends":{"functions":[],"variables":["dim_M_child_bearing"]},"lhs":"M_child_bearing"},{"name":"alloc_natural_waning","type":"alloc","source":[50],"depends":{"functions":[],"variables":["dim_natural_waning"]},"lhs":"natural_waning"},{"name":"alloc_S_child_bearing","type":"alloc","source":[40],"depends":{"functions":[],"variables":["dim_S_child_bearing"]},"lhs":"S_child_bearing"},{"name":"alloc_total_vaccine_doses","type":"alloc","source":[126],"depends":{"functions":[],"variables":["dim_total_vaccine_doses"]},"lhs":"total_vaccine_doses"},{"name":"alloc_vaccination_attempts","type":"alloc","source":[86],"depends":{"functions":[],"variables":["dim_vaccination_attempts"]},"lhs":"vaccination_attempts"},{"name":"alloc_vaccinations","type":"alloc","source":[89],"depends":{"functions":[],"variables":["dim_vaccinations"]},"lhs":"vaccinations"},{"name":"alloc_vaccine_waning","type":"alloc","source":[53],"depends":{"functions":[],"variables":["dim_vaccine_waning"]},"lhs":"vaccine_waning"},{"name":"birth_rate","type":"user","source":[10],"depends":null,"lhs":"birth_rate","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"births_M","type":"expression_scalar","source":[47],"depends":{"functions":["*","odin_sum","length"],"variables":["birth_rate","M_child_bearing","dim_M_child_bearing"]},"lhs":"births_M","rhs":{"value":["*","birth_rate",["odin_sum","M_child_bearing",1,["length","M_child_bearing"]]]}},{"name":"births_S","type":"expression_scalar","source":[45],"depends":{"functions":["*","odin_sum","length"],"variables":["birth_rate","S_child_bearing","dim_S_child_bearing"]},"lhs":"births_S","rhs":{"value":["*","birth_rate",["odin_sum","S_child_bearing",1,["length","S_child_bearing"]]]}},{"name":"child_bearing_ages","type":"user","source":[12],"depends":{"functions":["length"],"variables":["dim_child_bearing_ages"]},"lhs":"child_bearing_ages","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"death_rate","type":"user","source":[7],"depends":{"functions":["length"],"variables":["dim_death_rate"]},"lhs":"death_rate","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"deaths_M","type":"expression_array","source":[69],"depends":{"functions":["length","*","["],"variables":["dim_deaths_M","death_rate","i","M","alloc_deaths_M"]},"lhs":"deaths_M","rhs":[{"index":[{"value":[":",1,["length","deaths_M"]],"is_range":true,"index":"i"}],"value":["*",["[","death_rate","i"],["[","M","i"]]}]},{"name":"deaths_R","type":"expression_array","source":[63],"depends":{"functions":["length","*","["],"variables":["dim_deaths_R","death_rate","i","R","alloc_deaths_R"]},"lhs":"deaths_R","rhs":[{"index":[{"value":[":",1,["length","deaths_R"]],"is_range":true,"index":"i"}],"value":["*",["[","death_rate","i"],["[","R","i"]]}]},{"name":"deaths_S","type":"expression_array","source":[60],"depends":{"functions":["length","*","["],"variables":["dim_deaths_S","death_rate","i","S","alloc_deaths_S"]},"lhs":"deaths_S","rhs":[{"index":[{"value":[":",1,["length","deaths_S"]],"is_range":true,"index":"i"}],"value":["*",["[","death_rate","i"],["[","S","i"]]}]},{"name":"deaths_V","type":"expression_array","source":[66],"depends":{"functions":["length","*","["],"variables":["dim_deaths_V","death_rate","i","V","alloc_deaths_V"]},"lhs":"deaths_V","rhs":[{"index":[{"value":[":",1,["length","deaths_V"]],"is_range":true,"index":"i"}],"value":["*",["[","death_rate","i"],["[","V","i"]]}]},{"name":"deriv_M","type":"expression_array","source":[118,119],"depends":{"functions":["-","+","["],"variables":["dim_M","births_M","vaccine_waning","ageing_M","deaths_M","maternal_vaccinations","loses_maternal"]},"lhs":"M","rhs":[{"index":[{"value":1,"is_range":false,"index":"i"}],"value":["-",["-",["+","births_M",["[","vaccine_waning",1]],["[","ageing_M",1]],["[","deaths_M",1]]},{"index":[{"value":2,"is_range":false,"index":"i"}],"value":["-",["-",["-",["+",["[","ageing_M",1],"maternal_vaccinations"],["[","ageing_M",2]],["[","deaths_M",2]],"loses_maternal"]}]},{"name":"deriv_R","type":"expression_array","source":[107,108],"depends":{"functions":["-","[","+"],"variables":["dim_R","infections","i","ageing_R","deaths_R","natural_waning","n_age"]},"lhs":"R","rhs":[{"index":[{"value":1,"is_range":false,"index":"i"}],"value":["-",["-",["-",["[","infections","i"],["[","ageing_R","i"]],["[","deaths_R","i"]],["[","natural_waning","i"]]},{"index":[{"value":[":",2,"n_age"],"is_range":true,"index":"i"}],"value":["-",["-",["-",["+",["[","infections","i"],["[","ageing_R",["-","i",1]]],["[","ageing_R","i"]],["[","deaths_R","i"]],["[","natural_waning","i"]]}]},{"name":"deriv_S","type":"expression_array","source":[101,102,103],"depends":{"functions":["-","+","["],"variables":["dim_S","births_S","natural_waning","i","ageing_S","infections","deaths_S","loses_maternal","vaccine_waning","n_age"]},"lhs":"S","rhs":[{"index":[{"value":1,"is_range":false,"index":"i"}],"value":["-",["-",["-",["+","births_S",["[","natural_waning","i"]],["[","ageing_S","i"]],["[","infections","i"]],["[","deaths_S","i"]]},{"index":[{"value":2,"is_range":false,"index":"i"}],"value":["-",["-",["-",["+",["+",["+","loses_maternal",["[","ageing_S",["-","i",1]]],["[","natural_waning","i"]],["[","vaccine_waning","i"]],["[","ageing_S","i"]],["[","infections","i"]],["[","deaths_S","i"]]},{"index":[{"value":[":",3,"n_age"],"is_range":true,"index":"i"}],"value":["-",["-",["-",["+",["+",["[","ageing_S",["-","i",1]],["[","natural_waning","i"]],["[","vaccine_waning","i"]],["[","ageing_S","i"]],["[","infections","i"]],["[","deaths_S","i"]]}]},{"name":"deriv_V","type":"expression_array","source":[112,113,114],"depends":{"functions":["-","+","["],"variables":["dim_V","vaccinations","i","maternal_vaccinations","ageing_V","deaths_V","vaccine_waning","n_age"]},"lhs":"V","rhs":[{"index":[{"value":1,"is_range":false,"index":"i"}],"value":0},{"index":[{"value":2,"is_range":false,"index":"i"}],"value":["-",["-",["-",["+",["[","vaccinations","i"],"maternal_vaccinations"],["[","ageing_V","i"]],["[","deaths_V","i"]],["[","vaccine_waning","i"]]},{"index":[{"value":[":",3,"n_age"],"is_range":true,"index":"i"}],"value":["-",["-",["-",["[","vaccinations","i"],["[","ageing_V","i"]],["[","deaths_V","i"]],["[","vaccine_waning","i"]]}]},{"name":"dim_age_rate","type":"expression_scalar","source":[5],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_age_rate","rhs":{"value":"n_age"}},{"name":"dim_ageing_M","type":"expression_scalar","source":[82],"depends":null,"lhs":"dim_ageing_M","rhs":{"value":2}},{"name":"dim_ageing_R","type":"expression_scalar","source":[76],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_ageing_R","rhs":{"value":"n_age"}},{"name":"dim_ageing_S","type":"expression_scalar","source":[73],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_ageing_S","rhs":{"value":"n_age"}},{"name":"dim_ageing_V","type":"expression_scalar","source":[79],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_ageing_V","rhs":{"value":"n_age"}},{"name":"dim_child_bearing_ages","type":"expression_scalar","source":[13],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_child_bearing_ages","rhs":{"value":"n_age"}},{"name":"dim_death_rate","type":"expression_scalar","source":[8],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_death_rate","rhs":{"value":"n_age"}},{"name":"dim_deaths_M","type":"expression_scalar","source":[70],"depends":null,"lhs":"dim_deaths_M","rhs":{"value":2}},{"name":"dim_deaths_R","type":"expression_scalar","source":[64],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_deaths_R","rhs":{"value":"n_age"}},{"name":"dim_deaths_S","type":"expression_scalar","source":[61],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_deaths_S","rhs":{"value":"n_age"}},{"name":"dim_deaths_V","type":"expression_scalar","source":[67],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_deaths_V","rhs":{"value":"n_age"}},{"name":"dim_foi","type":"expression_scalar","source":[20],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_foi","rhs":{"value":"n_age"}},{"name":"dim_infections","type":"expression_scalar","source":[58],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_infections","rhs":{"value":"n_age"}},{"name":"dim_M","type":"expression_scalar","source":[116],"depends":null,"lhs":"dim_M","rhs":{"value":2}},{"name":"dim_M_0","type":"expression_scalar","source":[28],"depends":null,"lhs":"dim_M_0","rhs":{"value":2}},{"name":"dim_M_child_bearing","type":"expression_scalar","source":[43],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_M_child_bearing","rhs":{"value":"n_age"}},{"name":"dim_natural_waning","type":"expression_scalar","source":[50],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_natural_waning","rhs":{"value":"n_age"}},{"name":"dim_R","type":"expression_scalar","source":[105],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_R","rhs":{"value":"n_age"}},{"name":"dim_R_0","type":"expression_scalar","source":[34],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_R_0","rhs":{"value":"n_age"}},{"name":"dim_S","type":"expression_scalar","source":[99],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_S","rhs":{"value":"n_age"}},{"name":"dim_S_0","type":"expression_scalar","source":[31],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_S_0","rhs":{"value":"n_age"}},{"name":"dim_S_child_bearing","type":"expression_scalar","source":[40],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_S_child_bearing","rhs":{"value":"n_age"}},{"name":"dim_total_vaccine_doses","type":"expression_scalar","source":[126],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_total_vaccine_doses","rhs":{"value":"n_age"}},{"name":"dim_V","type":"expression_scalar","source":[110],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_V","rhs":{"value":"n_age"}},{"name":"dim_vaccination_attempts","type":"expression_scalar","source":[86],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_vaccination_attempts","rhs":{"value":"n_age"}},{"name":"dim_vaccination_doses","type":"expression_scalar","source":[129],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_vaccination_doses","rhs":{"value":"n_age"}},{"name":"dim_vaccination_rate","type":"expression_scalar","source":[25],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_vaccination_rate","rhs":{"value":"n_age"}},{"name":"dim_vaccinations","type":"expression_scalar","source":[89],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_vaccinations","rhs":{"value":"n_age"}},{"name":"dim_vaccine_waning","type":"expression_scalar","source":[53],"depends":{"functions":[],"variables":["n_age"]},"lhs":"dim_vaccine_waning","rhs":{"value":"n_age"}},{"name":"foi","type":"user","source":[19],"depends":{"functions":["length"],"variables":["dim_foi"]},"lhs":"foi","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"infections","type":"expression_array","source":[57],"depends":{"functions":["length","*","["],"variables":["dim_infections","foi","i","S","alloc_infections"]},"lhs":"infections","rhs":[{"index":[{"value":[":",1,["length","infections"]],"is_range":true,"index":"i"}],"value":["*",["[","foi","i"],["[","S","i"]]}]},{"name":"initial_M","type":"expression_array","source":[117],"depends":{"functions":["length","["],"variables":["dim_M","M_0","i"]},"lhs":"initial_M","rhs":[{"index":[{"value":[":",1,["length","M"]],"is_range":true,"index":"i"}],"value":["[","M_0","i"]}]},{"name":"initial_R","type":"expression_array","source":[106],"depends":{"functions":["length","["],"variables":["dim_R","R_0","i"]},"lhs":"initial_R","rhs":[{"index":[{"value":[":",1,["length","R"]],"is_range":true,"index":"i"}],"value":["[","R_0","i"]}]},{"name":"initial_S","type":"expression_array","source":[100],"depends":{"functions":["length","["],"variables":["dim_S","S_0","i"]},"lhs":"initial_S","rhs":[{"index":[{"value":[":",1,["length","S"]],"is_range":true,"index":"i"}],"value":["[","S_0","i"]}]},{"name":"initial_V","type":"expression_array","source":[111],"depends":{"functions":["length"],"variables":["dim_V"]},"lhs":"initial_V","rhs":[{"index":[{"value":[":",1,["length","V"]],"is_range":true,"index":"i"}],"value":0}]},{"name":"loses_maternal","type":"expression_scalar","source":[55],"depends":{"functions":["*","["],"variables":["maternal_waning","M"]},"lhs":"loses_maternal","rhs":{"value":["*","maternal_waning",["[","M",2]]}},{"name":"M_0","type":"user","source":[27],"depends":{"functions":["length"],"variables":["dim_M_0"]},"lhs":"M_0","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"M_child_bearing","type":"expression_array","source":[42],"depends":{"functions":["length","*","(","+","["],"variables":["dim_M_child_bearing","R","i","V","child_bearing_ages","alloc_M_child_bearing"]},"lhs":"M_child_bearing","rhs":[{"index":[{"value":[":",1,["length","M_child_bearing"]],"is_range":true,"index":"i"}],"value":["*",["(",["+",["[","R","i"],["[","V","i"]]],["[","child_bearing_ages","i"]]}]},{"name":"maternal_vaccination_attempts","type":"expression_scalar","source":[94],"depends":{"functions":["*","["],"variables":["vaccination_rate","M"]},"lhs":"maternal_vaccination_attempts","rhs":{"value":["*",["[","vaccination_rate",2],["[","M",2]]}},{"name":"maternal_vaccinations","type":"expression_scalar","source":[95],"depends":{"functions":["*"],"variables":["maternal_vaccination_attempts","vaccine_efficacy"]},"lhs":"maternal_vaccinations","rhs":{"value":["*","maternal_vaccination_attempts","vaccine_efficacy"]}},{"name":"maternal_waning","type":"user","source":[15],"depends":null,"lhs":"maternal_waning","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"n_age","type":"user","source":[2],"depends":null,"lhs":"n_age","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"natural_waning","type":"expression_array","source":[49],"depends":{"functions":["length","*","["],"variables":["dim_natural_waning","waning","R","i","alloc_natural_waning"]},"lhs":"natural_waning","rhs":[{"index":[{"value":[":",1,["length","natural_waning"]],"is_range":true,"index":"i"}],"value":["*","waning",["[","R","i"]]}]},{"name":"offset_variable_M","type":"expression_scalar","source":[],"depends":{"functions":["+"],"variables":["dim_R","dim_S","dim_V"]},"lhs":"offset_variable_M","rhs":{"value":["+",["+","dim_R","dim_S"],"dim_V"]}},{"name":"offset_variable_V","type":"expression_scalar","source":[],"depends":{"functions":["+"],"variables":["dim_R","dim_S"]},"lhs":"offset_variable_V","rhs":{"value":["+","dim_R","dim_S"]}},{"name":"output_vaccination_doses","type":"expression_array","source":[128],"depends":{"functions":["length","["],"variables":["dim_vaccination_doses","total_vaccine_doses","i"]},"lhs":"vaccination_doses","rhs":[{"index":[{"value":[":",1,["length","vaccination_doses"]],"is_range":true,"index":"i"}],"value":["[","total_vaccine_doses","i"]}]},{"name":"R_0","type":"user","source":[33],"depends":{"functions":["length"],"variables":["dim_R_0"]},"lhs":"R_0","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"S_0","type":"user","source":[30],"depends":{"functions":["length"],"variables":["dim_S_0"]},"lhs":"S_0","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"S_child_bearing","type":"expression_array","source":[39],"depends":{"functions":["length","*","["],"variables":["dim_S_child_bearing","S","i","child_bearing_ages","alloc_S_child_bearing"]},"lhs":"S_child_bearing","rhs":[{"index":[{"value":[":",1,["length","S_child_bearing"]],"is_range":true,"index":"i"}],"value":["*",["[","S","i"],["[","child_bearing_ages","i"]]}]},{"name":"total_vaccine_doses","type":"expression_array","source":[123,124,125],"depends":{"functions":["[","+"],"variables":["dim_total_vaccine_doses","vaccination_attempts","maternal_vaccination_attempts","n_age","i","alloc_total_vaccine_doses"]},"lhs":"total_vaccine_doses","rhs":[{"index":[{"value":1,"is_range":false,"index":"i"}],"value":["[","vaccination_attempts",1]},{"index":[{"value":2,"is_range":false,"index":"i"}],"value":["+",["[","vaccination_attempts",2],"maternal_vaccination_attempts"]},{"index":[{"value":[":",3,"n_age"],"is_range":true,"index":"i"}],"value":["[","vaccination_attempts","i"]}]},{"name":"vaccination_attempts","type":"expression_array","source":[85],"depends":{"functions":["length","*","["],"variables":["dim_vaccination_attempts","vaccination_rate","i","S","alloc_vaccination_attempts"]},"lhs":"vaccination_attempts","rhs":[{"index":[{"value":[":",1,["length","vaccination_attempts"]],"is_range":true,"index":"i"}],"value":["*",["[","vaccination_rate","i"],["[","S","i"]]}]},{"name":"vaccination_rate","type":"user","source":[24],"depends":{"functions":["length"],"variables":["dim_vaccination_rate"]},"lhs":"vaccination_rate","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"vaccinations","type":"expression_array","source":[88],"depends":{"functions":["length","*","["],"variables":["dim_vaccinations","vaccination_attempts","i","vaccine_efficacy","alloc_vaccinations"]},"lhs":"vaccinations","rhs":[{"index":[{"value":[":",1,["length","vaccinations"]],"is_range":true,"index":"i"}],"value":["*",["[","vaccination_attempts","i"],"vaccine_efficacy"]}]},{"name":"vaccine_efficacy","type":"user","source":[22],"depends":null,"lhs":"vaccine_efficacy","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"vaccine_waning","type":"expression_array","source":[52],"depends":{"functions":["length","*","["],"variables":["dim_vaccine_waning","waning","V","i","alloc_vaccine_waning"]},"lhs":"vaccine_waning","rhs":[{"index":[{"value":[":",1,["length","vaccine_waning"]],"is_range":true,"index":"i"}],"value":["*","waning",["[","V","i"]]}]},{"name":"waning","type":"user","source":[17],"depends":null,"lhs":"waning","user":{"default":null,"dim":false,"min":null,"max":null}}],"debug":[],"components":{"create":{"variables":[],"equations":["dim_ageing_M","dim_deaths_M","dim_M","dim_M_0","alloc_ageing_M","alloc_deaths_M","alloc_initial_M"]},"user":{"variables":[],"equations":["birth_rate","maternal_waning","n_age","vaccine_efficacy","waning","dim_age_rate","dim_ageing_R","dim_ageing_S","dim_ageing_V","dim_child_bearing_ages","dim_death_rate","dim_deaths_R","dim_deaths_S","dim_deaths_V","dim_foi","dim_infections","dim_M_child_bearing","dim_natural_waning","dim_R","dim_R_0","dim_S","dim_S_0","dim_S_child_bearing","dim_total_vaccine_doses","dim_V","dim_vaccination_attempts","dim_vaccination_doses","dim_vaccination_rate","dim_vaccinations","dim_vaccine_waning","M_0","age_rate","alloc_ageing_R","alloc_ageing_S","alloc_ageing_V","alloc_deaths_R","alloc_deaths_S","alloc_deaths_V","alloc_infections","alloc_initial_R","alloc_initial_S","alloc_initial_V","alloc_M_child_bearing","alloc_natural_waning","alloc_S_child_bearing","alloc_total_vaccine_doses","alloc_vaccination_attempts","alloc_vaccinations","alloc_vaccine_waning","child_bearing_ages","death_rate","foi","initial_M","initial_V","offset_variable_M","offset_variable_V","R_0","S_0","vaccination_rate","initial_R","initial_S"]},"initial":{"variables":[],"equations":[]},"rhs":{"variables":["S","R","V","M"],"equations":["loses_maternal","ageing_M","ageing_R","ageing_S","ageing_V","deaths_M","deaths_R","deaths_S","deaths_V","infections","M_child_bearing","maternal_vaccination_attempts","natural_waning","S_child_bearing","vaccination_attempts","vaccine_waning","births_M","births_S","deriv_R","maternal_vaccinations","vaccinations","deriv_M","deriv_S","deriv_V"]},"update_stochastic":{"variables":[],"equations":[]},"output":{"variables":["S","M"],"equations":["maternal_vaccination_attempts","vaccination_attempts","total_vaccine_doses","output_vaccination_doses"]},"compare":{"variables":[],"equations":[]}},"user":[{"name":"age_rate","has_default":false},{"name":"birth_rate","has_default":false},{"name":"child_bearing_ages","has_default":false},{"name":"death_rate","has_default":false},{"name":"foi","has_default":false},{"name":"M_0","has_default":false},{"name":"maternal_waning","has_default":false},{"name":"n_age","has_default":false},{"name":"R_0","has_default":false},{"name":"S_0","has_default":false},{"name":"vaccination_rate","has_default":false},{"name":"vaccine_efficacy","has_default":false},{"name":"waning","has_default":false}],"interpolate":{"min":[],"max":[],"critical":[]},"source":["#inputs","n_age <- user()","","age_rate[] <- user()","dim(age_rate) <- n_age","","death_rate[] <- user()","dim(death_rate) <- n_age","","birth_rate <- user()","","child_bearing_ages[] <- user()","dim(child_bearing_ages) <- n_age","","maternal_waning <- user()","","waning <- user()","","foi[] <- user()","dim(foi) <- n_age","","vaccine_efficacy <- user()","","vaccination_rate[] <- user()","dim(vaccination_rate) <- n_age","","M_0[] <- user()","dim(M_0) <- 2","","S_0[] <- user()","dim(S_0) <- n_age","","R_0[] <- user()","dim(R_0) <- n_age","","","#tranistions","","S_child_bearing[] <- S[i] * child_bearing_ages[i]","dim(S_child_bearing) <- n_age","","M_child_bearing[] <- (R[i] + V[i]) * child_bearing_ages[i]","dim(M_child_bearing) <- n_age","","births_S <- birth_rate * sum(S_child_bearing[])","","births_M <- birth_rate * sum(M_child_bearing[])","","natural_waning[] <- waning * R[i]","dim(natural_waning) <- n_age","","vaccine_waning[] <- waning * V[i]","dim(vaccine_waning) <- n_age","","loses_maternal <- maternal_waning * M[2] #only wanes in the last stage","","infections[] <- foi[i] * S[i]","dim(infections) <- n_age","","deaths_S[] <- death_rate[i] * S[i]","dim(deaths_S) <- n_age","","deaths_R[] <- death_rate[i] * R[i]","dim(deaths_R) <- n_age","","deaths_V[] <- death_rate[i] * V[i]","dim(deaths_V) <- n_age","","deaths_M[] <- death_rate[i] * M[i]","dim(deaths_M) <- 2","","ageing_S[] <- age_rate[i] * S[i]","dim(ageing_S) <- n_age","","ageing_R[] <- age_rate[i] * R[i]","dim(ageing_R) <- n_age","","ageing_V[] <- age_rate[i] * V[i]","dim(ageing_V) <- n_age","","ageing_M[] <- age_rate[i] * M[i]","dim(ageing_M) <- 2","","#todo add check against non all or nothing","vaccination_attempts[] <- vaccination_rate[i] * S[i]","dim(vaccination_attempts) <- n_age","","vaccinations[] <- vaccination_attempts[i] * vaccine_efficacy","dim(vaccinations) <- n_age","","#failed_vaccinations[] <- vaccination_attempts[i] - vaccinations[i]","#dim(failed_vaccinations) <- n_age","","maternal_vaccination_attempts <- vaccination_rate[2] * M[2]","maternal_vaccinations <- maternal_vaccination_attempts * vaccine_efficacy","#failed_maternal_vaccinations <- maternal_vaccination_attempts - maternal_vaccinations","","#derivatives","dim(S) <- n_age","initial(S[]) <- S_0[i]","deriv(S[1]) <- births_S + natural_waning[i] - ageing_S[i] - infections[i] - deaths_S[i]","deriv(S[2]) <- loses_maternal + ageing_S[i-1] + natural_waning[i] + vaccine_waning[i] - ageing_S[i] - infections[i] - deaths_S[i]","deriv(S[3:n_age]) <- ageing_S[i-1] + natural_waning[i] + vaccine_waning[i] - ageing_S[i] - infections[i] - deaths_S[i]","","dim(R) <- n_age","initial(R[]) <- R_0[i]","deriv(R[1]) <- infections[i] - ageing_R[i] - deaths_R[i] - natural_waning[i]","deriv(R[2:n_age]) <- infections[i] + ageing_R[i-1] - ageing_R[i] - deaths_R[i] - natural_waning[i]","","dim(V) <- n_age","initial(V[]) <- 0","deriv(V[1]) <- 0","deriv(V[2]) <- vaccinations[i] + maternal_vaccinations - ageing_V[i] - deaths_V[i] - vaccine_waning[i]","deriv(V[3:n_age]) <- vaccinations[i] - ageing_V[i] - deaths_V[i] - vaccine_waning[i]","","dim(M) <- 2","initial(M[]) <- M_0[i]","deriv(M[1]) <- births_M + vaccine_waning[1] - ageing_M[1] - deaths_M[1]","deriv(M[2]) <- ageing_M[1] + maternal_vaccinations - ageing_M[2] - deaths_M[2] - loses_maternal","","#outputs","","total_vaccine_doses[1] <- vaccination_attempts[1]","total_vaccine_doses[2] <- vaccination_attempts[2] + maternal_vaccination_attempts","total_vaccine_doses[3:n_age] <- vaccination_attempts[i]","dim(total_vaccine_doses) <- n_age","","output(vaccination_doses[]) <- total_vaccine_doses[i]","dim(vaccination_doses) <- n_age"]}
